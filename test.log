2026-02-11 15:53:40,412 [INFO] api: API initialized with routers.
============================= test session starts ==============================
platform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /usr/local/bin/python3.11
cachedir: .pytest_cache
rootdir: /app
configfile: pyproject.toml
plugins: mock-3.15.1, anyio-4.12.1
collecting ... 2026-02-11 15:53:40,537 [INFO] src.core.wiring: Using Nomic embedding model: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:40,538 [INFO] sentence_transformers.SentenceTransformer: Use pytorch device_name: cpu
2026-02-11 15:53:40,538 [INFO] sentence_transformers.SentenceTransformer: Load pretrained SentenceTransformer: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:40,539 [DEBUG] huggingface_hub.utils._http: Request ea3ec107-d167-4df9-b45c-90aa740f2294: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json (authenticated: False)
2026-02-11 15:53:40,660 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json HTTP/1.1" 404 0
2026-02-11 15:53:40,660 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:40,661 [DEBUG] huggingface_hub.utils._http: Request 91d6f22a-7df0-4a32-8ae8-f65d3f408100: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:40,798 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:40,799 [DEBUG] huggingface_hub.utils._http: Request 9581c3c4-6197-4bda-9f72-bb72d11e1922: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:40,812 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:40,813 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- configuration_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:40,813 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:40,813 [INFO] transformers.configuration_utils: Model config NomicBertConfig {
  "_name_or_path": "nomic-ai/nomic-embed-text-v1",
  "activation_function": "swiglu",
  "architectures": [
    "NomicBertModel"
  ],
  "attn_pdrop": 0.0,
  "auto_map": {
    "AutoConfig": "nomic-ai/nomic-bert-2048--configuration_hf_nomic_bert.NomicBertConfig",
    "AutoModel": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertModel",
    "AutoModelForMaskedLM": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertForPreTraining"
  },
  "bos_token_id": null,
  "causal": false,
  "dense_seq_output": true,
  "embd_pdrop": 0.0,
  "eos_token_id": null,
  "fused_bias_fc": true,
  "fused_dropout_add_ln": true,
  "initializer_range": 0.02,
  "layer_norm_epsilon": 1e-12,
  "max_trained_positions": 2048,
  "mlp_fc1_bias": false,
  "mlp_fc2_bias": false,
  "model_type": "nomic_bert",
  "n_embd": 768,
  "n_head": 12,
  "n_inner": 3072,
  "n_layer": 12,
  "n_positions": 8192,
  "pad_vocab_size_multiple": 64,
  "parallel_block": false,
  "parallel_block_tied_norm": false,
  "prenorm": false,
  "qkv_proj_bias": false,
  "reorder_and_upcast_attn": false,
  "resid_pdrop": 0.0,
  "rotary_emb_base": 1000,
  "rotary_emb_fraction": 1.0,
  "rotary_emb_interleaved": false,
  "rotary_emb_scale_base": null,
  "rotary_scaling_factor": 2,
  "scale_attn_by_inverse_layer_idx": false,
  "scale_attn_weights": true,
  "summary_activation": null,
  "summary_first_dropout": 0.1,
  "summary_proj_to_labels": true,
  "summary_type": "cls_index",
  "summary_use_proj": true,
  "torch_dtype": "float32",
  "transformers_version": "4.44.2",
  "type_vocab_size": 2,
  "use_cache": true,
  "use_flash_attn": true,
  "use_rms_norm": false,
  "use_xentropy": true,
  "vocab_size": 30528
}

2026-02-11 15:53:40,814 [DEBUG] huggingface_hub.utils._http: Request c2b62fc8-4df9-4c70-ab5e-8fe2c323948a: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:40,935 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:40,941 [DEBUG] huggingface_hub.utils._http: Request a34c28b5-91d0-483d-b5f8-76120866acee: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:40,954 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:40,958 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- modeling_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:41,662 [DEBUG] huggingface_hub.utils._http: Request 64050c00-7031-4ec6-8625-a28889d11088: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin (authenticated: False)
2026-02-11 15:53:41,792 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin HTTP/1.1" 302 0
2026-02-11 15:53:41,927 [WARNING] transformers_modules.nomic-ai.nomic-bert-2048.7710840340a098cfb869c4f65e87cf2b1b70caca.modeling_hf_nomic_bert: <All keys matched successfully>
2026-02-11 15:53:41,930 [INFO] transformers.tokenization_utils_base: loading file vocab.txt from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/vocab.txt
2026-02-11 15:53:41,935 [INFO] transformers.tokenization_utils_base: loading file tokenizer.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer.json
2026-02-11 15:53:41,935 [INFO] transformers.tokenization_utils_base: loading file added_tokens.json from cache at None
2026-02-11 15:53:41,935 [INFO] transformers.tokenization_utils_base: loading file special_tokens_map.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/special_tokens_map.json
2026-02-11 15:53:41,940 [INFO] transformers.tokenization_utils_base: loading file tokenizer_config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer_config.json
2026-02-11 15:53:41,947 [DEBUG] huggingface_hub.utils._http: Request 46e5bfd9-2090-44da-8120-6e41eedf62f3: GET https://huggingface.co/api/models/nomic-ai/nomic-embed-text-v1 (authenticated: False)
2026-02-11 15:53:42,090 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "GET /api/models/nomic-ai/nomic-embed-text-v1 HTTP/1.1" 200 148911
2026-02-11 15:53:42,216 [INFO] src.core.wiring: Using Nomic embedding model: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:42,217 [INFO] sentence_transformers.SentenceTransformer: Use pytorch device_name: cpu
2026-02-11 15:53:42,221 [INFO] sentence_transformers.SentenceTransformer: Load pretrained SentenceTransformer: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:42,221 [DEBUG] huggingface_hub.utils._http: Request f8b78032-8212-4302-a802-761fc8c7197b: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json (authenticated: False)
2026-02-11 15:53:42,343 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json HTTP/1.1" 404 0
2026-02-11 15:53:42,344 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:42,351 [DEBUG] huggingface_hub.utils._http: Request ca0b2c3a-76ad-427c-99b5-e615932499ed: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:42,473 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:42,474 [DEBUG] huggingface_hub.utils._http: Request abe37d33-c8ff-417f-8524-49e7a87e62f4: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:42,487 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:42,488 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- configuration_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:42,488 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:42,488 [INFO] transformers.configuration_utils: Model config NomicBertConfig {
  "_name_or_path": "nomic-ai/nomic-embed-text-v1",
  "activation_function": "swiglu",
  "architectures": [
    "NomicBertModel"
  ],
  "attn_pdrop": 0.0,
  "auto_map": {
    "AutoConfig": "nomic-ai/nomic-bert-2048--configuration_hf_nomic_bert.NomicBertConfig",
    "AutoModel": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertModel",
    "AutoModelForMaskedLM": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertForPreTraining"
  },
  "bos_token_id": null,
  "causal": false,
  "dense_seq_output": true,
  "embd_pdrop": 0.0,
  "eos_token_id": null,
  "fused_bias_fc": true,
  "fused_dropout_add_ln": true,
  "initializer_range": 0.02,
  "layer_norm_epsilon": 1e-12,
  "max_trained_positions": 2048,
  "mlp_fc1_bias": false,
  "mlp_fc2_bias": false,
  "model_type": "nomic_bert",
  "n_embd": 768,
  "n_head": 12,
  "n_inner": 3072,
  "n_layer": 12,
  "n_positions": 8192,
  "pad_vocab_size_multiple": 64,
  "parallel_block": false,
  "parallel_block_tied_norm": false,
  "prenorm": false,
  "qkv_proj_bias": false,
  "reorder_and_upcast_attn": false,
  "resid_pdrop": 0.0,
  "rotary_emb_base": 1000,
  "rotary_emb_fraction": 1.0,
  "rotary_emb_interleaved": false,
  "rotary_emb_scale_base": null,
  "rotary_scaling_factor": 2,
  "scale_attn_by_inverse_layer_idx": false,
  "scale_attn_weights": true,
  "summary_activation": null,
  "summary_first_dropout": 0.1,
  "summary_proj_to_labels": true,
  "summary_type": "cls_index",
  "summary_use_proj": true,
  "torch_dtype": "float32",
  "transformers_version": "4.44.2",
  "type_vocab_size": 2,
  "use_cache": true,
  "use_flash_attn": true,
  "use_rms_norm": false,
  "use_xentropy": true,
  "vocab_size": 30528
}

2026-02-11 15:53:42,489 [DEBUG] huggingface_hub.utils._http: Request be0d1e2d-f2a4-40a9-a2d0-22b716bc9ee2: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:42,607 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:42,608 [DEBUG] huggingface_hub.utils._http: Request 5c4d4072-5ec7-4c27-9c32-7c663d416405: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:42,619 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:42,622 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- modeling_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:43,323 [DEBUG] huggingface_hub.utils._http: Request 9c4be34c-7fae-4a34-8bd1-9e801f8ea84d: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin (authenticated: False)
2026-02-11 15:53:43,444 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin HTTP/1.1" 302 0
2026-02-11 15:53:43,576 [WARNING] transformers_modules.nomic-ai.nomic-bert-2048.7710840340a098cfb869c4f65e87cf2b1b70caca.modeling_hf_nomic_bert: <All keys matched successfully>
2026-02-11 15:53:43,580 [INFO] transformers.tokenization_utils_base: loading file vocab.txt from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/vocab.txt
2026-02-11 15:53:43,580 [INFO] transformers.tokenization_utils_base: loading file tokenizer.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer.json
2026-02-11 15:53:43,580 [INFO] transformers.tokenization_utils_base: loading file added_tokens.json from cache at None
2026-02-11 15:53:43,580 [INFO] transformers.tokenization_utils_base: loading file special_tokens_map.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/special_tokens_map.json
2026-02-11 15:53:43,580 [INFO] transformers.tokenization_utils_base: loading file tokenizer_config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer_config.json
2026-02-11 15:53:43,587 [DEBUG] huggingface_hub.utils._http: Request fa2b8295-6cb3-4bfd-b089-6168b8c4d34c: GET https://huggingface.co/api/models/nomic-ai/nomic-embed-text-v1 (authenticated: False)
2026-02-11 15:53:43,718 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "GET /api/models/nomic-ai/nomic-embed-text-v1 HTTP/1.1" 200 148911
2026-02-11 15:53:43,734 [DEBUG] celery.utils.functional: 
def ingest_run_task(self, run_id, documents, update_if_changed_after=0):
    return 1

2026-02-11 15:53:43,737 [INFO] src.core.wiring: Using Nomic embedding model: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:43,738 [INFO] sentence_transformers.SentenceTransformer: Use pytorch device_name: cpu
2026-02-11 15:53:43,738 [INFO] sentence_transformers.SentenceTransformer: Load pretrained SentenceTransformer: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:43,739 [DEBUG] huggingface_hub.utils._http: Request f764d877-e39a-4081-8155-34772daa0b27: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json (authenticated: False)
2026-02-11 15:53:43,859 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json HTTP/1.1" 404 0
2026-02-11 15:53:43,860 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:43,860 [DEBUG] huggingface_hub.utils._http: Request 6fa619e4-6752-499c-a7cf-9c319efa7bc3: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:43,997 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:43,998 [DEBUG] huggingface_hub.utils._http: Request 4b32bb4f-6b59-4f96-be9c-a2e374fa2267: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:44,010 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:44,011 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- configuration_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:44,014 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:44,014 [INFO] transformers.configuration_utils: Model config NomicBertConfig {
  "_name_or_path": "nomic-ai/nomic-embed-text-v1",
  "activation_function": "swiglu",
  "architectures": [
    "NomicBertModel"
  ],
  "attn_pdrop": 0.0,
  "auto_map": {
    "AutoConfig": "nomic-ai/nomic-bert-2048--configuration_hf_nomic_bert.NomicBertConfig",
    "AutoModel": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertModel",
    "AutoModelForMaskedLM": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertForPreTraining"
  },
  "bos_token_id": null,
  "causal": false,
  "dense_seq_output": true,
  "embd_pdrop": 0.0,
  "eos_token_id": null,
  "fused_bias_fc": true,
  "fused_dropout_add_ln": true,
  "initializer_range": 0.02,
  "layer_norm_epsilon": 1e-12,
  "max_trained_positions": 2048,
  "mlp_fc1_bias": false,
  "mlp_fc2_bias": false,
  "model_type": "nomic_bert",
  "n_embd": 768,
  "n_head": 12,
  "n_inner": 3072,
  "n_layer": 12,
  "n_positions": 8192,
  "pad_vocab_size_multiple": 64,
  "parallel_block": false,
  "parallel_block_tied_norm": false,
  "prenorm": false,
  "qkv_proj_bias": false,
  "reorder_and_upcast_attn": false,
  "resid_pdrop": 0.0,
  "rotary_emb_base": 1000,
  "rotary_emb_fraction": 1.0,
  "rotary_emb_interleaved": false,
  "rotary_emb_scale_base": null,
  "rotary_scaling_factor": 2,
  "scale_attn_by_inverse_layer_idx": false,
  "scale_attn_weights": true,
  "summary_activation": null,
  "summary_first_dropout": 0.1,
  "summary_proj_to_labels": true,
  "summary_type": "cls_index",
  "summary_use_proj": true,
  "torch_dtype": "float32",
  "transformers_version": "4.44.2",
  "type_vocab_size": 2,
  "use_cache": true,
  "use_flash_attn": true,
  "use_rms_norm": false,
  "use_xentropy": true,
  "vocab_size": 30528
}

2026-02-11 15:53:44,030 [DEBUG] huggingface_hub.utils._http: Request fb7dc01a-95c6-4519-b914-5c4ed8558d97: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:44,149 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:44,149 [DEBUG] huggingface_hub.utils._http: Request 205764db-5c54-4568-a182-359ebded247f: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:44,161 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:44,164 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- modeling_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:44,867 [DEBUG] huggingface_hub.utils._http: Request a366c0f2-9c78-479d-b65f-019e31629506: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin (authenticated: False)
2026-02-11 15:53:45,028 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin HTTP/1.1" 302 0
2026-02-11 15:53:45,151 [WARNING] transformers_modules.nomic-ai.nomic-bert-2048.7710840340a098cfb869c4f65e87cf2b1b70caca.modeling_hf_nomic_bert: <All keys matched successfully>
2026-02-11 15:53:45,155 [INFO] transformers.tokenization_utils_base: loading file vocab.txt from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/vocab.txt
2026-02-11 15:53:45,155 [INFO] transformers.tokenization_utils_base: loading file tokenizer.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer.json
2026-02-11 15:53:45,155 [INFO] transformers.tokenization_utils_base: loading file added_tokens.json from cache at None
2026-02-11 15:53:45,155 [INFO] transformers.tokenization_utils_base: loading file special_tokens_map.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/special_tokens_map.json
2026-02-11 15:53:45,155 [INFO] transformers.tokenization_utils_base: loading file tokenizer_config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer_config.json
2026-02-11 15:53:45,164 [DEBUG] huggingface_hub.utils._http: Request ca8c0d45-e345-4a0f-930c-55ed52b2afbe: GET https://huggingface.co/api/models/nomic-ai/nomic-embed-text-v1 (authenticated: False)
2026-02-11 15:53:45,295 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "GET /api/models/nomic-ai/nomic-embed-text-v1 HTTP/1.1" 200 148911
collected 25 items / 1 skipped

tests/test_all_routes_registered.py::test_all_routes_have_tests PASSED
tests/test_chunking.py::test_chunk_ids_deterministic_simple_chunker PASSED
tests/test_chunking.py::test_chunk_ids_deterministic_semantic_chunker PASSED
tests/test_chunks_route.py::test_chunks_route 2026-02-11 15:53:45,369 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,371 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:45,371 [DEBUG] httpcore.connection: close.started
2026-02-11 15:53:45,371 [DEBUG] httpcore.connection: close.complete
2026-02-11 15:53:45,371 [DEBUG] httpcore.connection: connect_tcp.started host='qdrant_test' port=6333 local_address=None timeout=5.0 socket_options=None
2026-02-11 15:53:45,372 [DEBUG] httpcore.connection: connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x7f7e7f2f5810>
2026-02-11 15:53:45,372 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,372 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,372 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,372 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,372 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,372 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:44 GMT')])
2026-02-11 15:53:45,373 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:45,373 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,373 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,373 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,373 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,373 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,373 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,374 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,374 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,374 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,374 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:44 GMT')])
2026-02-11 15:53:45,374 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:45,374 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,374 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,374 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,374 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,375 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
PASSED
tests/test_filesystem_ingestion.py::test_filesystem_excludes_paths 2026-02-11 15:53:45,377 [DEBUG] src.sources.filesystem.filesystem_source: Initialized FilesystemIngestionSource with scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files'], 'include_patterns': [], 'exclude_patterns': ['IgnorePath/*']}
2026-02-11 15:53:45,377 [DEBUG] src.sources.filesystem.filesystem_source: Extractor registry contains: ['pdf', 'python', 'thunderbird', 'plaintext']
2026-02-11 15:53:45,377 [DEBUG] tests.test_filesystem_ingestion: Testing with source: scope=FilesystemIndexingScope(type='filesystem', directories=[PosixPath('/tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files')], include_patterns=[], exclude_patterns=['IgnorePath/*']) should_stop=<function test_filesystem_excludes_paths.<locals>.<lambda> at 0x7f7e46cb3420> update_if_changed_after=None
2026-02-11 15:53:45,377 [DEBUG] src.sources.filesystem.filesystem_source: Walking through directory: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files
2026-02-11 15:53:45,377 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/script.py
2026-02-11 15:53:45,377 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/script.py
2026-02-11 15:53:45,377 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/script.py
2026-02-11 15:53:45,377 [DEBUG] src.sources.base.registry: Using extractor PythonExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/script.py
2026-02-11 15:53:45,377 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/script.py with content type text/x-python
2026-02-11 15:53:45,377 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/document.pdf
2026-02-11 15:53:45,377 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/document.pdf
2026-02-11 15:53:45,377 [DEBUG] src.sources.base.registry: Using extractor PDFExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/document.pdf
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/document.pdf with content type application/pdf
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/IgnorePath
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/file1.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/file1.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/file1.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/file1.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/file1.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/file1.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/file1.txt with content type text/plain
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:45,378 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_excludes_paths0/test_files/IgnorePath/file2.txt
PASSED
tests/test_health.py::test_health_check 2026-02-11 15:53:45,379 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,380 [INFO] httpx: HTTP Request: GET http://testserver/health "HTTP/1.1 200 OK"
PASSED
tests/test_ids.py::test_document_id_is_deterministic PASSED
tests/test_ids.py::test_document_id_changes_with_device PASSED
tests/test_ids.py::test_chunk_id_changes_with_checksum PASSED
tests/test_ids.py::test_chunk_id_changes_with_index PASSED
tests/test_ids.py::test_symlink_resolves_to_same_source_id PASSED
tests/test_ingest.py::test_ingest_filesystem_success 2026-02-11 15:53:45,382 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,382 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,382 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,382 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,382 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,383 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:44 GMT')])
2026-02-11 15:53:45,383 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:45,383 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,383 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,383 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,383 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,425 [INFO] storage.metadata_db.indexing_runs: load_latest_run: source=filesystem, scope matches â†' resuming run 67ed9528-e4d6-4780-961c-0fb24e0adee3
2026-02-11 15:53:45,425 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/loseme_test_data/docs']
2026-02-11 15:53:45,425 [DEBUG] tests.test_ingest: Created run with ID: 67ed9528-e4d6-4780-961c-0fb24e0adee3 for scope: type='filesystem' directories=[PosixPath('/tmp/loseme_test_data/docs')] include_patterns=[] exclude_patterns=[]
2026-02-11 15:53:45,425 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,428 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/loseme_test_data/docs']
2026-02-11 15:53:45,430 [INFO] api.app.routes.ingest: Ingesting document part ID a454550eec5958d78732ed4c5183e1c6 for run_id 67ed9528-e4d6-4780-961c-0fb24e0adee3
2026-02-11 15:53:45,522 [INFO] torch.distributed.nn.jit.instantiator: Created a temporary directory at /tmp/tmp5smlul0m
2026-02-11 15:53:45,522 [INFO] torch.distributed.nn.jit.instantiator: Writing /tmp/tmp5smlul0m/_remote_module_non_scriptable.py
2026-02-11 15:53:45,733 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 6f896f0405ef22889dbc594d5506d32b2479a6d2648a88c3d492fd25ed39b65a to Qdrant collection 'chunks'
2026-02-11 15:53:45,733 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:45,733 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,733 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,733 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,733 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,733 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,733 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,734 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 404 Not Found"
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,734 [INFO] storage.vector_db.qdrant_store: Creating Qdrant collection 'chunks' with vector size 768
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,734 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,799 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,799 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:45,799 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,799 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,799 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,799 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,800 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,800 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,800 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,800 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,800 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,801 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,801 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:45,801 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,801 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,801 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,801 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,805 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:45,805 [DEBUG] tests.test_ingest: Ingest response for file1: {'accepted': True, 'skipped': False}
PASSED2026-02-11 15:53:45,806 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,806 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,806 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,806 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,806 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,806 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,806 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:45,806 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,807 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,807 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,807 [DEBUG] httpcore.http11: response_closed.complete

tests/test_ingest_route.py::test_ingest_and_seach_route_thunderbird 2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,820 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,820 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,830 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,831 [DEBUG] api.app.routes.runs: Received json scope: {'type': 'thunderbird', 'mbox_path': '/tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX', 'ignore_patterns': [{'field': 'from', 'value': '*google.com*'}]}
2026-02-11 15:53:45,831 [DEBUG] api.app.routes.runs: Deserialized scope: type='thunderbird' mbox_path='/tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX' ignore_patterns=[{'field': 'from', 'value': '*google.com*'}]
2026-02-11 15:53:45,833 [INFO] httpx: HTTP Request: POST http://testserver/runs/create "HTTP/1.1 200 OK"
2026-02-11 15:53:45,834 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,834 [INFO] httpx: HTTP Request: POST http://testserver/runs/mark_running/0383eeba-c201-4dfa-b268-9bf9fb5147ad "HTTP/1.1 404 Not Found"
2026-02-11 15:53:45,835 [DEBUG] src.sources.thunderbird.thunderbird_source: Opened mbox file at /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX with 20 messages.
2026-02-11 15:53:45,835 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-0@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:45,835 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-1@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:45,835 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping multipart part in _extract_part_text
2026-02-11 15:53:45,835 [WARNING] pypdf._reader: incorrect startxref pointer(1)
2026-02-11 15:53:45,835 [WARNING] pypdf._reader: parsing for Object Streams
2026-02-11 15:53:45,836 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping unsupported content type: image/png
2026-02-11 15:53:45,836 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,839 [INFO] api.app.routes.ingest: Ingesting document part ID 2079472f2f115968b4a6a7e2eff981b3 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:45,885 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 8e82b345e6e7eb6f65f87abd447f8e3adbb25717a1c32faece523771bba6391f to Qdrant collection 'chunks'
2026-02-11 15:53:45,885 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,886 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 404 Not Found"
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,886 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,886 [INFO] storage.vector_db.qdrant_store: Creating Qdrant collection 'chunks' with vector size 768
2026-02-11 15:53:45,887 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,887 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,887 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,887 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,887 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,913 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,913 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:45,913 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,913 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,913 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,913 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,914 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,914 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,914 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,914 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,914 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,915 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,915 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:45,915 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,915 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,915 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,916 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,920 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:45,920 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,923 [INFO] api.app.routes.ingest: Ingesting document part ID e79d0226372f50b996bfb0cb2757afb4 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:45,966 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id ef1dd668f3bd2588a7bb3a48f732c1c11710f3037d316552448134fc880bbaa3 to Qdrant collection 'chunks'
2026-02-11 15:53:45,966 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:45,966 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,966 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,966 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,966 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,966 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:45,966 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,967 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:45,967 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:45,969 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:45,969 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:45,969 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:45,969 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:45,969 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:45,969 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:45,974 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:45,975 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,977 [INFO] api.app.routes.ingest: Ingesting document part ID 7934f7d1a14d54e58256053d4f5d38ba for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:45,983 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:45,984 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,986 [INFO] api.app.routes.ingest: Ingesting document part ID db35af0c63b757988d7bfe6cc667d803 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:45,992 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:45,993 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-2@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:45,993 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:45,995 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,037 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 9aeac25b52aeeca6d138cdbf27956bd05639fe7c85819791dc151ff5ab5d1810 to Qdrant collection 'chunks'
2026-02-11 15:53:46,037 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,037 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,037 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,037 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,037 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,038 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,038 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,038 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,038 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,038 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,038 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,038 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,039 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,039 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,039 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,039 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,039 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,040 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,040 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,041 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,041 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,041 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,041 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,045 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,046 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-3@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:46,046 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-4@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,047 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,050 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,050 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,050 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,051 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,051 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,051 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,051 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,052 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,052 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,052 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,053 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,053 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,053 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,053 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,091 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 39b92eb8dcf930a0d8f49b5f4eda4e7e0964ee6c8d14001f056e34b4678cd23c to Qdrant collection 'chunks'
2026-02-11 15:53:46,092 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,092 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,092 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,092 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,092 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,092 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,092 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,093 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,093 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,093 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,093 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,093 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,093 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,093 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,094 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,094 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,094 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,095 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,095 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,095 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,095 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,095 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,095 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,099 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,099 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-5@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,100 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,103 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,103 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,110 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,111 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,111 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,111 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,111 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,111 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,112 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,115 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,115 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,115 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,115 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,115 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,151 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 8af8081a3fb88ae267e5fde03c811505c68d31de6b871f2687bfe64165e17e50 to Qdrant collection 'chunks'
2026-02-11 15:53:46,154 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,154 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,154 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,154 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,154 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,154 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,154 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,160 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,160 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,160 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,161 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,161 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,161 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,161 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,161 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,161 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,169 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,170 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,170 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,170 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,170 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,170 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,170 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,174 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,175 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-6@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:46,175 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-7@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,175 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,178 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,178 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,178 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,179 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,179 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,179 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,179 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,179 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,180 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,180 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,180 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,181 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,181 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,181 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,217 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 18dba8b4885edf2d0dedf47df8b4fdb855b10a3971ceaf3a8487fe848571a69d to Qdrant collection 'chunks'
2026-02-11 15:53:46,217 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,217 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,217 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,217 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,217 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,217 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,217 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,217 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,217 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,217 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,218 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,218 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,218 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,218 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,218 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,218 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,218 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,219 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,219 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,219 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,220 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,220 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,220 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,224 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,224 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-8@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,224 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,227 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,227 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,228 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,228 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,228 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,228 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,229 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,229 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,229 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,229 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,229 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,229 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,230 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,230 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,269 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 37229fdc16e23673a5403d881603245c76de28e664e43e2db8848686d32e2dfd to Qdrant collection 'chunks'
2026-02-11 15:53:46,269 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,270 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,270 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,270 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,270 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,270 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,270 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,270 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,270 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,271 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,271 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,271 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,272 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,272 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,272 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,272 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,272 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,273 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,273 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,273 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,273 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,274 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,274 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,278 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,278 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-9@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:46,279 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-10@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,279 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,282 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,282 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,282 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,282 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,282 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,282 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,282 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,282 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,283 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,283 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,283 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,283 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,283 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,283 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,321 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 7af05c3998803c377171b8cead3f5e23777f2d45c43c2e81b9781fbfc0812042 to Qdrant collection 'chunks'
2026-02-11 15:53:46,321 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,322 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,322 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,323 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,323 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,323 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,323 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,323 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,324 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,324 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,324 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,324 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,324 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,324 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,328 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,328 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-11@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,329 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,332 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,332 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,332 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,332 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,333 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,333 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,333 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,333 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,334 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,334 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,334 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,334 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,334 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,334 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,379 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 17e6fdd81d8303b9f3e5c0581be47d6e88d27f9455638899ff7c894754fb36ed to Qdrant collection 'chunks'
2026-02-11 15:53:46,379 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,380 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,380 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,380 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,380 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,380 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,380 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,380 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,380 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,381 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,381 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,381 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,382 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,382 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,382 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,382 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,382 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,383 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,383 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,383 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,383 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,383 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,383 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,387 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,387 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-12@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:46,387 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-13@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,388 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,391 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,391 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,391 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,391 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,391 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,392 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,392 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,392 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,392 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,392 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,392 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,392 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,393 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,393 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,435 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id e41a761b96aa7dcfa6bbcb863a63a17d1f4a5b57e6634eee2970b9cc84356595 to Qdrant collection 'chunks'
2026-02-11 15:53:46,435 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,435 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,438 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,438 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,438 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,438 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,438 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,442 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,442 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,442 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,442 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,442 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,442 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,442 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,442 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,443 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,443 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,444 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,448 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,448 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,448 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,448 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,448 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,452 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,452 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-14@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,453 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,456 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,456 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,456 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,457 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,457 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,457 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,458 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,458 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,458 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:45 GMT')])
2026-02-11 15:53:46,459 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,459 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,459 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,459 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,459 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,502 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id c6798ded67a93cae473318786b5032f6de7dbc5e5a538aaacfc5e47c8e5cb89f to Qdrant collection 'chunks'
2026-02-11 15:53:46,502 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,502 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,503 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,503 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,503 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,503 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,503 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,503 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,503 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,504 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,504 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,504 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,504 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,504 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,504 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,504 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,504 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,505 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,506 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,506 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,506 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,506 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,506 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,510 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,510 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-15@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:46,511 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-16@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,511 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,514 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,514 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,514 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,515 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,515 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,515 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,515 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,515 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,516 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,516 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,516 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,517 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,517 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,517 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,550 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 354bddd60837f96d6ceb5ccecb064dec1323cf9acb72e3a8a0866faed97d4db0 to Qdrant collection 'chunks'
2026-02-11 15:53:46,551 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,551 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,551 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,551 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,551 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,551 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,551 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,552 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,552 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,552 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,552 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,552 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,552 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,552 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,552 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,552 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,553 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,553 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,554 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,554 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,554 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,554 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,554 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,558 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,558 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-17@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,558 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,561 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,561 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,564 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,564 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,564 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,564 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,564 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,564 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,565 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,570 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,570 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,570 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,571 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,571 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,605 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id a1a84f2fe6aea6b7b7eee91022a87315cda5db3df8d977561e61189b323aff1e to Qdrant collection 'chunks'
2026-02-11 15:53:46,612 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,612 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,612 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,612 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,613 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,613 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,613 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,617 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,617 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,617 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,617 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,617 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,618 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,618 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,618 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,618 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,627 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,627 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,627 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,627 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,627 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,627 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,627 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,631 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,631 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-18@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:46,632 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-19@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_ingest_and_seach_route_th0/thunderbird/INBOX.
2026-02-11 15:53:46,632 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,635 [DEBUG] api.app.routes.ingest: Document part with ID aae5e05897215071a87175a7bab3e790 exists. Comparing extractor_names and versions.
2026-02-11 15:53:46,635 [INFO] api.app.routes.ingest: Checksum changed for document part ID aae5e05897215071a87175a7bab3e790. Re-processing suggested.
2026-02-11 15:53:46,635 [INFO] api.app.routes.ingest: Ingesting document part ID aae5e05897215071a87175a7bab3e790 for run_id 0383eeba-c201-4dfa-b268-9bf9fb5147ad
2026-02-11 15:53:46,636 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,636 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,636 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,636 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,636 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:46,637 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,637 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,637 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:46,637 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,637 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,637 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,681 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 9a1f22a564b805772deb8009b15a839f38b71549180a27ee1687e39fc5ea29c5 to Qdrant collection 'chunks'
2026-02-11 15:53:46,681 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,681 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,682 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,682 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,683 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,683 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,683 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,683 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,683 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:46,684 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,684 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:46,684 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:46,684 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,684 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,684 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,688 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:46,688 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,689 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:46,689 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,690 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,690 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:46 GMT')])
2026-02-11 15:53:46,691 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:46,691 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:46,692 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:46,692 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:46,693 [INFO] src.core.wiring: Using Nomic embedding model: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:46,697 [INFO] sentence_transformers.SentenceTransformer: Use pytorch device_name: cpu
2026-02-11 15:53:46,697 [INFO] sentence_transformers.SentenceTransformer: Load pretrained SentenceTransformer: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:46,698 [DEBUG] huggingface_hub.utils._http: Request 9dabf798-31b4-42a5-9d0c-37e3b9f65dab: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json (authenticated: False)
2026-02-11 15:53:46,699 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2026-02-11 15:53:46,844 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json HTTP/1.1" 404 0
2026-02-11 15:53:46,845 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:46,845 [DEBUG] huggingface_hub.utils._http: Request ca045687-8a3f-4bd2-8423-297f3a61e276: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:46,984 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:46,985 [DEBUG] huggingface_hub.utils._http: Request 532b5db5-6112-4f3b-a57b-c57ace3bab55: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:46,997 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:46,998 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- configuration_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:46,999 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:47,000 [INFO] transformers.configuration_utils: Model config NomicBertConfig {
  "_name_or_path": "nomic-ai/nomic-embed-text-v1",
  "activation_function": "swiglu",
  "architectures": [
    "NomicBertModel"
  ],
  "attn_pdrop": 0.0,
  "auto_map": {
    "AutoConfig": "nomic-ai/nomic-bert-2048--configuration_hf_nomic_bert.NomicBertConfig",
    "AutoModel": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertModel",
    "AutoModelForMaskedLM": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertForPreTraining"
  },
  "bos_token_id": null,
  "causal": false,
  "dense_seq_output": true,
  "embd_pdrop": 0.0,
  "eos_token_id": null,
  "fused_bias_fc": true,
  "fused_dropout_add_ln": true,
  "initializer_range": 0.02,
  "layer_norm_epsilon": 1e-12,
  "max_trained_positions": 2048,
  "mlp_fc1_bias": false,
  "mlp_fc2_bias": false,
  "model_type": "nomic_bert",
  "n_embd": 768,
  "n_head": 12,
  "n_inner": 3072,
  "n_layer": 12,
  "n_positions": 8192,
  "pad_vocab_size_multiple": 64,
  "parallel_block": false,
  "parallel_block_tied_norm": false,
  "prenorm": false,
  "qkv_proj_bias": false,
  "reorder_and_upcast_attn": false,
  "resid_pdrop": 0.0,
  "rotary_emb_base": 1000,
  "rotary_emb_fraction": 1.0,
  "rotary_emb_interleaved": false,
  "rotary_emb_scale_base": null,
  "rotary_scaling_factor": 2,
  "scale_attn_by_inverse_layer_idx": false,
  "scale_attn_weights": true,
  "summary_activation": null,
  "summary_first_dropout": 0.1,
  "summary_proj_to_labels": true,
  "summary_type": "cls_index",
  "summary_use_proj": true,
  "torch_dtype": "float32",
  "transformers_version": "4.44.2",
  "type_vocab_size": 2,
  "use_cache": true,
  "use_flash_attn": true,
  "use_rms_norm": false,
  "use_xentropy": true,
  "vocab_size": 30528
}

2026-02-11 15:53:47,002 [DEBUG] huggingface_hub.utils._http: Request 68a3792b-143a-4910-9f5d-1c8a365b82a8: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:47,131 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:47,132 [DEBUG] huggingface_hub.utils._http: Request f0d53a78-0bc9-4512-9479-a1448e6ddc2e: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:47,144 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:47,150 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- modeling_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:47,850 [DEBUG] huggingface_hub.utils._http: Request 108d6731-e5b7-4929-ada6-1b4ea85088b3: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin (authenticated: False)
2026-02-11 15:53:47,976 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin HTTP/1.1" 302 0
2026-02-11 15:53:48,106 [WARNING] transformers_modules.nomic-ai.nomic-bert-2048.7710840340a098cfb869c4f65e87cf2b1b70caca.modeling_hf_nomic_bert: <All keys matched successfully>
2026-02-11 15:53:48,107 [INFO] transformers.tokenization_utils_base: loading file vocab.txt from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/vocab.txt
2026-02-11 15:53:48,107 [INFO] transformers.tokenization_utils_base: loading file tokenizer.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer.json
2026-02-11 15:53:48,107 [INFO] transformers.tokenization_utils_base: loading file added_tokens.json from cache at None
2026-02-11 15:53:48,107 [INFO] transformers.tokenization_utils_base: loading file special_tokens_map.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/special_tokens_map.json
2026-02-11 15:53:48,107 [INFO] transformers.tokenization_utils_base: loading file tokenizer_config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer_config.json
2026-02-11 15:53:48,112 [DEBUG] huggingface_hub.utils._http: Request 26ae33d7-0a79-40d6-8fac-ae5fbae472f6: GET https://huggingface.co/api/models/nomic-ai/nomic-embed-text-v1 (authenticated: False)
2026-02-11 15:53:48,247 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "GET /api/models/nomic-ai/nomic-embed-text-v1 HTTP/1.1" 200 148911
2026-02-11 15:53:48,491 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:48,491 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,492 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,492 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,494 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:48,494 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,494 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:48,494 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,494 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:48,495 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,495 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/query "HTTP/1.1 200 OK"
2026-02-11 15:53:48,495 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:48,537 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,537 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,537 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,539 [INFO] httpx: HTTP Request: POST http://testserver/search "HTTP/1.1 200 OK"
PASSED2026-02-11 15:53:48,540 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,540 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,540 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,540 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,540 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,544 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,545 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,545 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,545 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,545 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,545 [DEBUG] httpcore.http11: response_closed.complete

tests/test_ingest_route.py::test_ingest_route_with_invalid_run_id 2026-02-11 15:53:48,546 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,546 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,547 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,547 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,547 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,547 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,547 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,547 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,547 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,547 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,547 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,580 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,582 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 404 Not Found"
PASSED2026-02-11 15:53:48,583 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,583 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,584 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,584 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,584 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,584 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,584 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,584 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,584 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,584 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,584 [DEBUG] httpcore.http11: response_closed.complete

tests/test_ingest_route.py::test_ingest_and_search_route_filesystem 2026-02-11 15:53:48,585 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,585 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,585 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,585 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,586 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,586 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,586 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,586 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:48,586 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,586 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,586 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,598 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,599 [DEBUG] api.app.routes.runs: Received json scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:48,600 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files']
2026-02-11 15:53:48,600 [DEBUG] api.app.routes.runs: Deserialized scope: type='filesystem' directories=[PosixPath('/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files')] include_patterns=[] exclude_patterns=[]
2026-02-11 15:53:48,602 [INFO] httpx: HTTP Request: POST http://testserver/runs/create "HTTP/1.1 200 OK"
2026-02-11 15:53:48,602 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,603 [INFO] httpx: HTTP Request: POST http://testserver/runs/mark_running/54d92dba-24be-44a7-a79f-f1905f2cc6b5 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:48,603 [DEBUG] src.sources.filesystem.filesystem_source: Initialized FilesystemIngestionSource with scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:48,603 [DEBUG] src.sources.filesystem.filesystem_source: Extractor registry contains: ['pdf', 'python', 'thunderbird', 'plaintext']
2026-02-11 15:53:48,603 [DEBUG] src.sources.filesystem.filesystem_source: Walking through directory: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files
2026-02-11 15:53:48,604 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/script.py
2026-02-11 15:53:48,604 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/script.py
2026-02-11 15:53:48,604 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/script.py
2026-02-11 15:53:48,604 [DEBUG] src.sources.base.registry: Using extractor PythonExtractor for path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/script.py
2026-02-11 15:53:48,604 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/script.py with content type text/x-python
2026-02-11 15:53:48,604 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,605 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files']
2026-02-11 15:53:48,607 [INFO] api.app.routes.ingest: Ingesting document part ID 5893f4d081a2517999601c9a7794e99c for run_id 54d92dba-24be-44a7-a79f-f1905f2cc6b5
2026-02-11 15:53:48,648 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 47b496b7b6edce8fd5ab54618b140142a04c82bde424c29576ad94703c522367 to Qdrant collection 'chunks'
2026-02-11 15:53:48,648 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:48,651 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,651 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,651 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,651 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,651 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,651 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,657 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 404 Not Found"
2026-02-11 15:53:48,657 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,657 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,657 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,657 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,657 [INFO] storage.vector_db.qdrant_store: Creating Qdrant collection 'chunks' with vector size 768
2026-02-11 15:53:48,658 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,658 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,658 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,658 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,658 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,688 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,688 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,688 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,688 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,688 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,688 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,688 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,689 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,689 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,689 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,689 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,689 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,690 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:48,690 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,690 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,690 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,690 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,693 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:48,694 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/document.pdf
2026-02-11 15:53:48,694 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/document.pdf
2026-02-11 15:53:48,694 [DEBUG] src.sources.base.registry: Using extractor PDFExtractor for path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/document.pdf
2026-02-11 15:53:48,694 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/document.pdf with content type application/pdf
2026-02-11 15:53:48,694 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,696 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files']
2026-02-11 15:53:48,697 [INFO] api.app.routes.ingest: Ingesting document part ID b9ffd454eba15480961fedaad7eef517 for run_id 54d92dba-24be-44a7-a79f-f1905f2cc6b5
2026-02-11 15:53:48,708 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:48,709 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath
2026-02-11 15:53:48,709 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/file1.txt
2026-02-11 15:53:48,709 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/file1.txt
2026-02-11 15:53:48,709 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/file1.txt
2026-02-11 15:53:48,709 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/file1.txt
2026-02-11 15:53:48,709 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/file1.txt
2026-02-11 15:53:48,709 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/file1.txt
2026-02-11 15:53:48,709 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/file1.txt with content type text/plain
2026-02-11 15:53:48,709 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,710 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files']
2026-02-11 15:53:48,712 [INFO] api.app.routes.ingest: Ingesting document part ID 65304d90f02d59ccb8ac2427b36ea9bc for run_id 54d92dba-24be-44a7-a79f-f1905f2cc6b5
2026-02-11 15:53:48,754 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id c8578ba70e7bed740b60399fca015ff1f6f7839d47882e318c2505e27ac524ae to Qdrant collection 'chunks'
2026-02-11 15:53:48,754 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:48,754 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,754 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,754 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,754 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,754 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,754 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,754 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,755 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,756 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,756 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:48,756 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,757 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,757 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,757 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,760 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:48,761 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:48,761 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:48,761 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:48,761 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:48,761 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:48,761 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:48,761 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file3.txt with content type text/plain
2026-02-11 15:53:48,761 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,762 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files']
2026-02-11 15:53:48,764 [INFO] api.app.routes.ingest: Ingesting document part ID fb058529f2b255159e95fa243cf6664b for run_id 54d92dba-24be-44a7-a79f-f1905f2cc6b5
2026-02-11 15:53:48,800 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 86c38ce2085e65bd93bf522f41daaf2b6d919895e30c00f1ef4b7b33ff964b16 to Qdrant collection 'chunks'
2026-02-11 15:53:48,800 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,801 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,801 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,802 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,802 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,802 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,802 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,802 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,803 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,803 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:48,803 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,803 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,803 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,803 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,808 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:48,808 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:48,808 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:48,808 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:48,808 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:48,808 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:48,808 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:48,808 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files/IgnorePath/file2.txt with content type text/plain
2026-02-11 15:53:48,808 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,809 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_ingest_and_search_route_f0/test_files']
2026-02-11 15:53:48,811 [INFO] api.app.routes.ingest: Ingesting document part ID bf9531948717539dac6dbeffa7ee5b46 for run_id 54d92dba-24be-44a7-a79f-f1905f2cc6b5
2026-02-11 15:53:48,856 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 580b868be45cee2f77601e601b9a4f4ac362fe64a61aeacdf11a0966b8b4b5d7 to Qdrant collection 'chunks'
2026-02-11 15:53:48,856 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,857 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,857 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,858 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,858 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,858 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,858 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,858 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:48,859 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,859 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:48,859 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:48,859 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,859 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,859 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,863 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:48,863 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,864 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:48,864 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,864 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,864 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,865 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,865 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:48,866 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,866 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:48,866 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:48,866 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:48 GMT')])
2026-02-11 15:53:48,866 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,866 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:48,866 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:48,866 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:48,866 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:48,867 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:48,867 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:48,867 [INFO] src.core.wiring: Using Nomic embedding model: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:48,869 [INFO] sentence_transformers.SentenceTransformer: Use pytorch device_name: cpu
2026-02-11 15:53:48,869 [INFO] sentence_transformers.SentenceTransformer: Load pretrained SentenceTransformer: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:48,870 [DEBUG] huggingface_hub.utils._http: Request 0e9569f2-6e7f-46bc-825e-7efb3820dd63: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json (authenticated: False)
2026-02-11 15:53:48,871 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2026-02-11 15:53:49,025 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json HTTP/1.1" 404 0
2026-02-11 15:53:49,034 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:49,035 [DEBUG] huggingface_hub.utils._http: Request 1584c2bc-6037-4896-8641-ce69daa681ec: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:49,156 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:49,157 [DEBUG] huggingface_hub.utils._http: Request 99a39181-7937-4b5e-9473-d4ba59bfaffc: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:49,169 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:49,169 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- configuration_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:49,169 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:49,170 [INFO] transformers.configuration_utils: Model config NomicBertConfig {
  "_name_or_path": "nomic-ai/nomic-embed-text-v1",
  "activation_function": "swiglu",
  "architectures": [
    "NomicBertModel"
  ],
  "attn_pdrop": 0.0,
  "auto_map": {
    "AutoConfig": "nomic-ai/nomic-bert-2048--configuration_hf_nomic_bert.NomicBertConfig",
    "AutoModel": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertModel",
    "AutoModelForMaskedLM": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertForPreTraining"
  },
  "bos_token_id": null,
  "causal": false,
  "dense_seq_output": true,
  "embd_pdrop": 0.0,
  "eos_token_id": null,
  "fused_bias_fc": true,
  "fused_dropout_add_ln": true,
  "initializer_range": 0.02,
  "layer_norm_epsilon": 1e-12,
  "max_trained_positions": 2048,
  "mlp_fc1_bias": false,
  "mlp_fc2_bias": false,
  "model_type": "nomic_bert",
  "n_embd": 768,
  "n_head": 12,
  "n_inner": 3072,
  "n_layer": 12,
  "n_positions": 8192,
  "pad_vocab_size_multiple": 64,
  "parallel_block": false,
  "parallel_block_tied_norm": false,
  "prenorm": false,
  "qkv_proj_bias": false,
  "reorder_and_upcast_attn": false,
  "resid_pdrop": 0.0,
  "rotary_emb_base": 1000,
  "rotary_emb_fraction": 1.0,
  "rotary_emb_interleaved": false,
  "rotary_emb_scale_base": null,
  "rotary_scaling_factor": 2,
  "scale_attn_by_inverse_layer_idx": false,
  "scale_attn_weights": true,
  "summary_activation": null,
  "summary_first_dropout": 0.1,
  "summary_proj_to_labels": true,
  "summary_type": "cls_index",
  "summary_use_proj": true,
  "torch_dtype": "float32",
  "transformers_version": "4.44.2",
  "type_vocab_size": 2,
  "use_cache": true,
  "use_flash_attn": true,
  "use_rms_norm": false,
  "use_xentropy": true,
  "vocab_size": 30528
}

2026-02-11 15:53:49,170 [DEBUG] huggingface_hub.utils._http: Request 16ce7dc8-25cf-4839-b2a5-e8623785cdf7: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:49,290 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:49,291 [DEBUG] huggingface_hub.utils._http: Request 1d95c0cb-13c0-4ccd-b923-e00b58503279: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:49,303 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:49,306 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- modeling_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:49,980 [DEBUG] huggingface_hub.utils._http: Request 0d4f22a8-d382-479e-ae72-dde579ebe1cf: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin (authenticated: False)
2026-02-11 15:53:50,100 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin HTTP/1.1" 302 0
2026-02-11 15:53:50,231 [WARNING] transformers_modules.nomic-ai.nomic-bert-2048.7710840340a098cfb869c4f65e87cf2b1b70caca.modeling_hf_nomic_bert: <All keys matched successfully>
2026-02-11 15:53:50,234 [INFO] transformers.tokenization_utils_base: loading file vocab.txt from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/vocab.txt
2026-02-11 15:53:50,234 [INFO] transformers.tokenization_utils_base: loading file tokenizer.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer.json
2026-02-11 15:53:50,234 [INFO] transformers.tokenization_utils_base: loading file added_tokens.json from cache at None
2026-02-11 15:53:50,234 [INFO] transformers.tokenization_utils_base: loading file special_tokens_map.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/special_tokens_map.json
2026-02-11 15:53:50,234 [INFO] transformers.tokenization_utils_base: loading file tokenizer_config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer_config.json
2026-02-11 15:53:50,240 [DEBUG] huggingface_hub.utils._http: Request 8c84a5dc-3c7f-49ba-9493-149338af1d2e: GET https://huggingface.co/api/models/nomic-ai/nomic-embed-text-v1 (authenticated: False)
2026-02-11 15:53:50,371 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "GET /api/models/nomic-ai/nomic-embed-text-v1 HTTP/1.1" 200 148911
2026-02-11 15:53:50,519 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:50,519 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,519 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,519 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,519 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,520 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,520 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,520 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,520 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,520 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,520 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,520 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,521 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:50,521 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,521 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:50,521 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,521 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:50,521 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,521 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/query "HTTP/1.1 200 OK"
2026-02-11 15:53:50,521 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:50,567 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,567 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,567 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,568 [INFO] httpx: HTTP Request: POST http://testserver/search "HTTP/1.1 200 OK"
PASSED2026-02-11 15:53:50,568 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,569 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,569 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,569 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,569 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,570 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,570 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,570 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,570 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,570 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,570 [DEBUG] httpcore.http11: response_closed.complete

tests/test_ingest_route.py::test_filesystem_ingestion_does_not_reprocess_unchanged_files 2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,571 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,571 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,582 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,583 [DEBUG] api.app.routes.runs: Received json scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:50,583 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,583 [DEBUG] api.app.routes.runs: Deserialized scope: type='filesystem' directories=[PosixPath('/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files')] include_patterns=[] exclude_patterns=[]
2026-02-11 15:53:50,586 [INFO] httpx: HTTP Request: POST http://testserver/runs/create "HTTP/1.1 200 OK"
2026-02-11 15:53:50,586 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,587 [INFO] httpx: HTTP Request: POST http://testserver/runs/mark_running/cae88aa1-1830-4834-9b79-308fddef2e65 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:50,587 [DEBUG] src.sources.filesystem.filesystem_source: Initialized FilesystemIngestionSource with scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:50,587 [DEBUG] src.sources.filesystem.filesystem_source: Extractor registry contains: ['pdf', 'python', 'thunderbird', 'plaintext']
2026-02-11 15:53:50,587 [DEBUG] src.sources.filesystem.filesystem_source: Walking through directory: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files
2026-02-11 15:53:50,587 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py
2026-02-11 15:53:50,587 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py
2026-02-11 15:53:50,587 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py
2026-02-11 15:53:50,587 [DEBUG] src.sources.base.registry: Using extractor PythonExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py
2026-02-11 15:53:50,587 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py with content type text/x-python
2026-02-11 15:53:50,587 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,588 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,590 [INFO] api.app.routes.ingest: Ingesting document part ID 69ffbe33e36e54178513c0f658000962 for run_id cae88aa1-1830-4834-9b79-308fddef2e65
2026-02-11 15:53:50,635 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 74fecf906188e296403f3e781a9d1881e4d26a6e4f55d19d9fc55a18a013f3ac to Qdrant collection 'chunks'
2026-02-11 15:53:50,635 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:50,635 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,635 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,635 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,635 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,635 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,636 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,636 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 404 Not Found"
2026-02-11 15:53:50,636 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,636 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,636 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,636 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,636 [INFO] storage.vector_db.qdrant_store: Creating Qdrant collection 'chunks' with vector size 768
2026-02-11 15:53:50,637 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,637 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,637 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,637 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,637 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,672 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,672 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,672 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,673 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,673 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,673 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,673 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,674 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,674 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,674 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,674 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,675 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,675 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:50,675 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,675 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,675 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,675 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,680 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,680 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/document.pdf
2026-02-11 15:53:50,680 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/document.pdf
2026-02-11 15:53:50,680 [DEBUG] src.sources.base.registry: Using extractor PDFExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/document.pdf
2026-02-11 15:53:50,680 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/document.pdf with content type application/pdf
2026-02-11 15:53:50,681 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,682 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,684 [INFO] api.app.routes.ingest: Ingesting document part ID 5f02cdc480355a08b67167f9b1f50493 for run_id cae88aa1-1830-4834-9b79-308fddef2e65
2026-02-11 15:53:50,691 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,691 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath
2026-02-11 15:53:50,691 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,691 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,691 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,691 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,692 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,692 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,692 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt with content type text/plain
2026-02-11 15:53:50,692 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,693 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,698 [INFO] api.app.routes.ingest: Ingesting document part ID e08db6e0782f50029a6968a9f398f245 for run_id cae88aa1-1830-4834-9b79-308fddef2e65
2026-02-11 15:53:50,738 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id d78076f7f22a2fec832791fa718a5ff8406a27450d3a1990dd3d16a7ac6d917b to Qdrant collection 'chunks'
2026-02-11 15:53:50,738 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:50,738 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,738 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,738 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,740 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,740 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,740 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,741 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,741 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,742 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,742 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,742 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,742 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,743 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,743 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,743 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,743 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,744 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,745 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:50,745 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,745 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,745 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,745 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,750 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,750 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,750 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,750 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,750 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,750 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,757 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,758 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt with content type text/plain
2026-02-11 15:53:50,758 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,759 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,761 [INFO] api.app.routes.ingest: Ingesting document part ID 1c3264f0f11e5375ba75abb58b8724f4 for run_id cae88aa1-1830-4834-9b79-308fddef2e65
2026-02-11 15:53:50,799 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id aebe33170b60a140d90deeb5e98bc257e7db456e94c0319304ee7a73cb3d4ff5 to Qdrant collection 'chunks'
2026-02-11 15:53:50,800 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,800 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,800 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,801 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,801 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,801 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,801 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,801 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,803 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,803 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:50,803 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,803 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,803 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,803 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,807 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,807 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,807 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,807 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,807 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,807 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,807 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,807 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt with content type text/plain
2026-02-11 15:53:50,808 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,809 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,811 [INFO] api.app.routes.ingest: Ingesting document part ID 4d21014c432e5645b887e6dca78e8683 for run_id cae88aa1-1830-4834-9b79-308fddef2e65
2026-02-11 15:53:50,852 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 7cfdccef9693e3f5d69c68049ce1aa166b6ecb58dc477e9fd287a38e11974568 to Qdrant collection 'chunks'
2026-02-11 15:53:50,852 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:50,852 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,852 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,852 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,852 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,852 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,853 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,853 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,853 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,853 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,853 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,853 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,853 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,854 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,854 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,854 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,854 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,855 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,855 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:50,855 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,855 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,855 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,855 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,859 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,860 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,860 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:50,861 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,861 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,861 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,861 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,861 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,861 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,861 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,861 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,861 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,862 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,862 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,863 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,863 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,863 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,863 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,863 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,866 [INFO] httpx: HTTP Request: GET http://testserver/documents/get_all_document_parts "HTTP/1.1 200 OK"
2026-02-11 15:53:50,866 [DEBUG] src.sources.filesystem.filesystem_source: Initialized FilesystemIngestionSource with scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:50,866 [DEBUG] src.sources.filesystem.filesystem_source: Extractor registry contains: ['pdf', 'python', 'thunderbird', 'plaintext']
2026-02-11 15:53:50,866 [DEBUG] src.sources.filesystem.filesystem_source: Walking through directory: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files
2026-02-11 15:53:50,866 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py
2026-02-11 15:53:50,867 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py
2026-02-11 15:53:50,867 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py
2026-02-11 15:53:50,867 [DEBUG] src.sources.base.registry: Using extractor PythonExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py
2026-02-11 15:53:50,867 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/script.py with content type text/x-python
2026-02-11 15:53:50,867 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,868 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,870 [DEBUG] api.app.routes.ingest: Document part with ID 69ffbe33e36e54178513c0f658000962 exists. Comparing extractor_names and versions.
2026-02-11 15:53:50,870 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 69ffbe33e36e54178513c0f658000962 (already processed).
2026-02-11 15:53:50,874 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,874 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/document.pdf
2026-02-11 15:53:50,874 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/document.pdf
2026-02-11 15:53:50,874 [DEBUG] src.sources.base.registry: Using extractor PDFExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/document.pdf
2026-02-11 15:53:50,874 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/document.pdf with content type application/pdf
2026-02-11 15:53:50,874 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,876 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,878 [DEBUG] api.app.routes.ingest: Document part with ID 5f02cdc480355a08b67167f9b1f50493 exists. Comparing extractor_names and versions.
2026-02-11 15:53:50,878 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 5f02cdc480355a08b67167f9b1f50493 (already processed).
2026-02-11 15:53:50,881 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,881 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath
2026-02-11 15:53:50,881 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,881 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,881 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,881 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,881 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,881 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt
2026-02-11 15:53:50,881 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/file1.txt with content type text/plain
2026-02-11 15:53:50,882 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,882 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,884 [DEBUG] api.app.routes.ingest: Document part with ID e08db6e0782f50029a6968a9f398f245 exists. Comparing extractor_names and versions.
2026-02-11 15:53:50,884 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID e08db6e0782f50029a6968a9f398f245 (already processed).
2026-02-11 15:53:50,888 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,888 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,888 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,888 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,888 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,888 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,888 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:50,888 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file3.txt with content type text/plain
2026-02-11 15:53:50,888 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,889 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,891 [DEBUG] api.app.routes.ingest: Document part with ID 1c3264f0f11e5375ba75abb58b8724f4 exists. Comparing extractor_names and versions.
2026-02-11 15:53:50,891 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 1c3264f0f11e5375ba75abb58b8724f4 (already processed).
2026-02-11 15:53:50,895 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,895 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,895 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,895 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,895 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,895 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,895 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:50,895 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files/IgnorePath/file2.txt with content type text/plain
2026-02-11 15:53:50,896 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,896 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_does0/test_files']
2026-02-11 15:53:50,899 [DEBUG] api.app.routes.ingest: Document part with ID 4d21014c432e5645b887e6dca78e8683 exists. Comparing extractor_names and versions.
2026-02-11 15:53:50,899 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 4d21014c432e5645b887e6dca78e8683 (already processed).
2026-02-11 15:53:50,903 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:50,903 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,903 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,904 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,904 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,905 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,905 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,906 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,906 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,906 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,906 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,906 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,906 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,906 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,906 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,906 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,907 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,907 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,909 [INFO] httpx: HTTP Request: GET http://testserver/documents/get_all_document_parts "HTTP/1.1 200 OK"
PASSED2026-02-11 15:53:50,910 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,910 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,910 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,910 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,910 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,911 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,911 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,911 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,911 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,911 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,911 [DEBUG] httpcore.http11: response_closed.complete

tests/test_ingest_route.py::test_filesystem_ingestion_reprocesses_on_extractor_version_update 2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,912 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,912 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,922 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,923 [DEBUG] api.app.routes.runs: Received json scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:50,923 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:50,923 [DEBUG] api.app.routes.runs: Deserialized scope: type='filesystem' directories=[PosixPath('/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files')] include_patterns=[] exclude_patterns=[]
2026-02-11 15:53:50,925 [INFO] httpx: HTTP Request: POST http://testserver/runs/create "HTTP/1.1 200 OK"
2026-02-11 15:53:50,926 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,926 [INFO] httpx: HTTP Request: POST http://testserver/runs/mark_running/b220a701-6aee-49fa-ab7a-f7aed4224403 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:50,926 [DEBUG] src.sources.filesystem.filesystem_source: Initialized FilesystemIngestionSource with scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:50,926 [DEBUG] src.sources.filesystem.filesystem_source: Extractor registry contains: ['pdf', 'python', 'thunderbird', 'plaintext']
2026-02-11 15:53:50,926 [DEBUG] src.sources.filesystem.filesystem_source: Walking through directory: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files
2026-02-11 15:53:50,926 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py
2026-02-11 15:53:50,926 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py
2026-02-11 15:53:50,927 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py
2026-02-11 15:53:50,927 [DEBUG] src.sources.base.registry: Using extractor PythonExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py
2026-02-11 15:53:50,927 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py with content type text/x-python
2026-02-11 15:53:50,927 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:50,928 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:50,929 [INFO] api.app.routes.ingest: Ingesting document part ID 35e8670d943d586db14ee27e2ed58d8e for run_id b220a701-6aee-49fa-ab7a-f7aed4224403
2026-02-11 15:53:50,974 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 2b3f3ecdd0cb5ddb0432042c4b811094b60ae1b87a2d0a63883757183f7ea5d4 to Qdrant collection 'chunks'
2026-02-11 15:53:50,974 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:50,974 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:50,975 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 404 Not Found"
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:50,975 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:50,975 [INFO] storage.vector_db.qdrant_store: Creating Qdrant collection 'chunks' with vector size 768
2026-02-11 15:53:50,976 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:50,976 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:50,976 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:50,976 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:50,976 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,006 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,006 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,006 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,006 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,006 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,006 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,007 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,007 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,007 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,007 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,007 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,008 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,008 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,008 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,008 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,009 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,009 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,012 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,012 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/document.pdf
2026-02-11 15:53:51,013 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/document.pdf
2026-02-11 15:53:51,013 [DEBUG] src.sources.base.registry: Using extractor PDFExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/document.pdf
2026-02-11 15:53:51,013 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/document.pdf with content type application/pdf
2026-02-11 15:53:51,013 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,014 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,016 [INFO] api.app.routes.ingest: Ingesting document part ID 3ee4659e372157ccba5501bf0a28fbe9 for run_id b220a701-6aee-49fa-ab7a-f7aed4224403
2026-02-11 15:53:51,021 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,021 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath
2026-02-11 15:53:51,021 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,021 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,021 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,021 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,021 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,021 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,021 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt with content type text/plain
2026-02-11 15:53:51,022 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,023 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,025 [INFO] api.app.routes.ingest: Ingesting document part ID 9c9d276bd37954bf919153801111b3ad for run_id b220a701-6aee-49fa-ab7a-f7aed4224403
2026-02-11 15:53:51,067 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id cf225e692c6405db1c0740f7cb1842f3208cd5ee12c81d12b2392caf7306e174 to Qdrant collection 'chunks'
2026-02-11 15:53:51,067 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,067 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,067 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,067 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,069 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,069 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,069 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,069 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,069 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,076 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,076 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,076 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,077 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,077 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,077 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,077 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,077 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,078 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,078 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,078 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,078 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,078 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,078 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,082 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,082 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,082 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,083 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,083 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,083 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,083 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,083 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt with content type text/plain
2026-02-11 15:53:51,083 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,084 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,086 [INFO] api.app.routes.ingest: Ingesting document part ID 541b46d7e734569aa03d48220f69f06f for run_id b220a701-6aee-49fa-ab7a-f7aed4224403
2026-02-11 15:53:51,121 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 8796ffadd2e5b0f6a319fba053bcccfecdafaecf278a6ac9678ad19a8447770d to Qdrant collection 'chunks'
2026-02-11 15:53:51,121 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,121 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,121 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,122 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,122 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,122 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,122 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,122 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,122 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,124 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,124 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,124 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,124 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,124 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,124 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,128 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,128 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,128 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,128 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,128 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,128 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,128 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,128 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt with content type text/plain
2026-02-11 15:53:51,128 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,129 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,131 [INFO] api.app.routes.ingest: Ingesting document part ID b86d7a6b59175b5fb2d6a8de6cade3a8 for run_id b220a701-6aee-49fa-ab7a-f7aed4224403
2026-02-11 15:53:51,174 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id bb10ac870eeee863fad2729d25a656d0572f34fb9911e5f44b5a6407e9095e4b to Qdrant collection 'chunks'
2026-02-11 15:53:51,175 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,175 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,175 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,175 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,175 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,175 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,175 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,176 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,176 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,176 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,176 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,176 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,177 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,177 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,177 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,177 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,177 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,178 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,178 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,178 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,178 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,178 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,178 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,182 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,183 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,183 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,184 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,184 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,184 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,184 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,184 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,184 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,184 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,184 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,184 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,185 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,185 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,185 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,185 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,185 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,185 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,185 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,185 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,187 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,187 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,187 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,187 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,187 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,188 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,188 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,191 [INFO] httpx: HTTP Request: GET http://testserver/documents/get_all_document_parts "HTTP/1.1 200 OK"
2026-02-11 15:53:51,191 [DEBUG] src.sources.filesystem.filesystem_source: Initialized FilesystemIngestionSource with scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:51,194 [DEBUG] src.sources.filesystem.filesystem_source: Extractor registry contains: ['pdf', 'python', 'thunderbird', 'plaintext']
2026-02-11 15:53:51,195 [DEBUG] src.sources.filesystem.filesystem_source: Walking through directory: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files
2026-02-11 15:53:51,195 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py
2026-02-11 15:53:51,195 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py
2026-02-11 15:53:51,202 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py
2026-02-11 15:53:51,202 [DEBUG] src.sources.base.registry: Using extractor PythonExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py
2026-02-11 15:53:51,202 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/script.py with content type text/x-python
2026-02-11 15:53:51,203 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/document.pdf
2026-02-11 15:53:51,215 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/document.pdf
2026-02-11 15:53:51,215 [DEBUG] src.sources.base.registry: Using extractor PDFExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/document.pdf
2026-02-11 15:53:51,215 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/document.pdf with content type application/pdf
2026-02-11 15:53:51,215 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath
2026-02-11 15:53:51,215 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,231 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,231 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,231 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,231 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,231 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt
2026-02-11 15:53:51,231 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/file1.txt with content type text/plain
2026-02-11 15:53:51,231 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,231 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,232 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,232 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,232 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,232 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,239 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file3.txt with content type text/plain
2026-02-11 15:53:51,240 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,240 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,240 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,243 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,243 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,243 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,243 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files/IgnorePath/file2.txt with content type text/plain
2026-02-11 15:53:51,245 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,247 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,249 [DEBUG] api.app.routes.ingest: Document part with ID 35e8670d943d586db14ee27e2ed58d8e exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,249 [INFO] api.app.routes.ingest: Extractor version changed from 0.1 to 999.0. Re-processing suggested.
2026-02-11 15:53:51,249 [INFO] api.app.routes.ingest: Ingesting document part ID 35e8670d943d586db14ee27e2ed58d8e for run_id b220a701-6aee-49fa-ab7a-f7aed4224403
2026-02-11 15:53:51,250 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,250 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,250 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,250 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,250 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,251 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,251 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,251 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,251 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,251 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,251 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,292 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 2b3f3ecdd0cb5ddb0432042c4b811094b60ae1b87a2d0a63883757183f7ea5d4 to Qdrant collection 'chunks'
2026-02-11 15:53:51,292 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,292 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,293 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,293 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,294 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,294 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,294 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,294 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,294 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,295 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,295 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,295 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,295 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,295 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,295 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,299 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,300 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,301 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,303 [DEBUG] api.app.routes.ingest: Document part with ID 3ee4659e372157ccba5501bf0a28fbe9 exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,303 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 3ee4659e372157ccba5501bf0a28fbe9 (already processed).
2026-02-11 15:53:51,306 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,306 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,307 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,309 [DEBUG] api.app.routes.ingest: Document part with ID 9c9d276bd37954bf919153801111b3ad exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,309 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 9c9d276bd37954bf919153801111b3ad (already processed).
2026-02-11 15:53:51,313 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,313 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,314 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,316 [DEBUG] api.app.routes.ingest: Document part with ID 541b46d7e734569aa03d48220f69f06f exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,316 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 541b46d7e734569aa03d48220f69f06f (already processed).
2026-02-11 15:53:51,319 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,319 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,320 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_filesystem_ingestion_repr0/test_files']
2026-02-11 15:53:51,322 [DEBUG] api.app.routes.ingest: Document part with ID b86d7a6b59175b5fb2d6a8de6cade3a8 exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,322 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID b86d7a6b59175b5fb2d6a8de6cade3a8 (already processed).
2026-02-11 15:53:51,326 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,326 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,328 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,328 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,328 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,328 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,328 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,328 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,328 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,328 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,328 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,329 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,329 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,330 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,330 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,330 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,330 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,330 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,331 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,333 [INFO] httpx: HTTP Request: GET http://testserver/documents/get_all_document_parts "HTTP/1.1 200 OK"
2026-02-11 15:53:51,333 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,334 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,334 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,334 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,334 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,334 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,335 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,335 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,335 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,335 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,335 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,335 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,335 [WARNING] storage.vector_db.qdrant_store: Chunk with id [ not found in Qdrant.
2026-02-11 15:53:51,336 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/[ "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,336 [DEBUG] tests.test_ingest_route: Checking if old chunk with id [ still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,336 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,337 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,337 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,337 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,337 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,337 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,337 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,338 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,338 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,338 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,338 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,338 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,338 [WARNING] storage.vector_db.qdrant_store: Chunk with id " not found in Qdrant.
2026-02-11 15:53:51,338 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/%22 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,338 [DEBUG] tests.test_ingest_route: Checking if old chunk with id " still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,338 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,339 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,339 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,339 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,339 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,340 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,340 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,340 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,340 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,340 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,340 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,340 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,340 [WARNING] storage.vector_db.qdrant_store: Chunk with id 2 not found in Qdrant.
2026-02-11 15:53:51,341 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/2 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,341 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 2 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,341 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,342 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,342 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,342 [WARNING] storage.vector_db.qdrant_store: Chunk with id b not found in Qdrant.
2026-02-11 15:53:51,343 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/b "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,343 [DEBUG] tests.test_ingest_route: Checking if old chunk with id b still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,343 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,344 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,344 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,344 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,344 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,344 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,345 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,345 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,345 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,345 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,345 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,345 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,345 [WARNING] storage.vector_db.qdrant_store: Chunk with id 3 not found in Qdrant.
2026-02-11 15:53:51,346 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/3 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,346 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 3 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,346 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,347 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,347 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,348 [WARNING] storage.vector_db.qdrant_store: Chunk with id f not found in Qdrant.
2026-02-11 15:53:51,348 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/f "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,348 [DEBUG] tests.test_ingest_route: Checking if old chunk with id f still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,348 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,349 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,349 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,349 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,349 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,349 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,349 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,350 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,350 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,350 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,350 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,350 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,350 [WARNING] storage.vector_db.qdrant_store: Chunk with id 3 not found in Qdrant.
2026-02-11 15:53:51,350 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/3 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,350 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 3 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,351 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,351 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,352 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,352 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,352 [WARNING] storage.vector_db.qdrant_store: Chunk with id e not found in Qdrant.
2026-02-11 15:53:51,353 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/e "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,353 [DEBUG] tests.test_ingest_route: Checking if old chunk with id e still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,353 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,354 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,354 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,354 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,354 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,354 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,354 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,354 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,354 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,354 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,355 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,355 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,355 [WARNING] storage.vector_db.qdrant_store: Chunk with id c not found in Qdrant.
2026-02-11 15:53:51,355 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/c "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,355 [DEBUG] tests.test_ingest_route: Checking if old chunk with id c still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,355 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,356 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,356 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,356 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,356 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,356 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,356 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,357 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,357 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,357 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,357 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,357 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,357 [WARNING] storage.vector_db.qdrant_store: Chunk with id d not found in Qdrant.
2026-02-11 15:53:51,357 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/d "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,357 [DEBUG] tests.test_ingest_route: Checking if old chunk with id d still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,358 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,358 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,359 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,359 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,359 [WARNING] storage.vector_db.qdrant_store: Chunk with id d not found in Qdrant.
2026-02-11 15:53:51,360 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/d "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,360 [DEBUG] tests.test_ingest_route: Checking if old chunk with id d still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,360 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,361 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,361 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,362 [WARNING] storage.vector_db.qdrant_store: Chunk with id 0 not found in Qdrant.
2026-02-11 15:53:51,362 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/0 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,362 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 0 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,362 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,363 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,363 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,363 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,363 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,363 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,363 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,363 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,363 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,363 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,364 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,364 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,364 [WARNING] storage.vector_db.qdrant_store: Chunk with id c not found in Qdrant.
2026-02-11 15:53:51,364 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/c "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,364 [DEBUG] tests.test_ingest_route: Checking if old chunk with id c still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,364 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,365 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,365 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,365 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,365 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,366 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,366 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,366 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,366 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,366 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,366 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,366 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,366 [WARNING] storage.vector_db.qdrant_store: Chunk with id b not found in Qdrant.
2026-02-11 15:53:51,367 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/b "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,367 [DEBUG] tests.test_ingest_route: Checking if old chunk with id b still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,367 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,368 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,368 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,368 [WARNING] storage.vector_db.qdrant_store: Chunk with id 5 not found in Qdrant.
2026-02-11 15:53:51,369 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/5 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,369 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 5 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,369 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,370 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,370 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,370 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,370 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,370 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,370 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,370 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,370 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,371 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,371 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,371 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,371 [WARNING] storage.vector_db.qdrant_store: Chunk with id d not found in Qdrant.
2026-02-11 15:53:51,371 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/d "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,371 [DEBUG] tests.test_ingest_route: Checking if old chunk with id d still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,371 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,372 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,372 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,372 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,372 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,373 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,373 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,373 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,373 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,373 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,373 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,373 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,373 [WARNING] storage.vector_db.qdrant_store: Chunk with id d not found in Qdrant.
2026-02-11 15:53:51,374 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/d "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,374 [DEBUG] tests.test_ingest_route: Checking if old chunk with id d still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,374 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,375 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,375 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,375 [WARNING] storage.vector_db.qdrant_store: Chunk with id b not found in Qdrant.
2026-02-11 15:53:51,376 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/b "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,376 [DEBUG] tests.test_ingest_route: Checking if old chunk with id b still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,376 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,377 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,377 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,377 [WARNING] storage.vector_db.qdrant_store: Chunk with id 0 not found in Qdrant.
2026-02-11 15:53:51,378 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/0 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,378 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 0 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,378 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,380 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,380 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,380 [WARNING] storage.vector_db.qdrant_store: Chunk with id 4 not found in Qdrant.
2026-02-11 15:53:51,381 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/4 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,381 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 4 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,381 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,382 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,382 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,382 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,382 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,382 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,382 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,382 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,382 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,383 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,383 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,383 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,383 [WARNING] storage.vector_db.qdrant_store: Chunk with id 3 not found in Qdrant.
2026-02-11 15:53:51,383 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/3 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,383 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 3 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,383 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,384 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,384 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,384 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,384 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,384 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,384 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,385 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,385 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,385 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,385 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,385 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,385 [WARNING] storage.vector_db.qdrant_store: Chunk with id 2 not found in Qdrant.
2026-02-11 15:53:51,385 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/2 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,385 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 2 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,386 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,387 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,387 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,387 [WARNING] storage.vector_db.qdrant_store: Chunk with id 0 not found in Qdrant.
2026-02-11 15:53:51,388 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/0 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,388 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 0 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,388 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,389 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,389 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,389 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,389 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,389 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,389 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,389 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,389 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,390 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,390 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,390 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,390 [WARNING] storage.vector_db.qdrant_store: Chunk with id 4 not found in Qdrant.
2026-02-11 15:53:51,390 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/4 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,390 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 4 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,390 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,391 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,391 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,391 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,391 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,391 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,391 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,392 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,392 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,392 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,392 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,392 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,392 [WARNING] storage.vector_db.qdrant_store: Chunk with id 2 not found in Qdrant.
2026-02-11 15:53:51,392 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/2 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,392 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 2 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,393 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,393 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,394 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,394 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,394 [WARNING] storage.vector_db.qdrant_store: Chunk with id c not found in Qdrant.
2026-02-11 15:53:51,395 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/c "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,395 [DEBUG] tests.test_ingest_route: Checking if old chunk with id c still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,395 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,395 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,396 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,396 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,396 [WARNING] storage.vector_db.qdrant_store: Chunk with id 4 not found in Qdrant.
2026-02-11 15:53:51,397 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/4 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,397 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 4 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,397 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,398 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,398 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,398 [WARNING] storage.vector_db.qdrant_store: Chunk with id b not found in Qdrant.
2026-02-11 15:53:51,399 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/b "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,399 [DEBUG] tests.test_ingest_route: Checking if old chunk with id b still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,399 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,400 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,400 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,400 [WARNING] storage.vector_db.qdrant_store: Chunk with id 8 not found in Qdrant.
2026-02-11 15:53:51,401 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/8 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,401 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 8 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,401 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,402 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,402 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,402 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,402 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,402 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,402 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,402 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,402 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,403 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,403 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,403 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,403 [WARNING] storage.vector_db.qdrant_store: Chunk with id 1 not found in Qdrant.
2026-02-11 15:53:51,403 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/1 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,403 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 1 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,403 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,404 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,404 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,404 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,404 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,404 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,404 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,405 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,405 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,405 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,405 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,405 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,405 [WARNING] storage.vector_db.qdrant_store: Chunk with id 1 not found in Qdrant.
2026-02-11 15:53:51,405 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/1 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,405 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 1 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,405 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,406 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,407 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,407 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,407 [WARNING] storage.vector_db.qdrant_store: Chunk with id 0 not found in Qdrant.
2026-02-11 15:53:51,408 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/0 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,408 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 0 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,408 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,409 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,409 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,410 [WARNING] storage.vector_db.qdrant_store: Chunk with id 9 not found in Qdrant.
2026-02-11 15:53:51,410 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/9 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,410 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 9 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,410 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,411 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,411 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,411 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,411 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,411 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,411 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,411 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,411 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,412 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,412 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,412 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,412 [WARNING] storage.vector_db.qdrant_store: Chunk with id 4 not found in Qdrant.
2026-02-11 15:53:51,412 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/4 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,412 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 4 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,412 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,413 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,413 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,413 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,414 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,414 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,414 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,414 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,414 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,414 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,414 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,414 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,414 [WARNING] storage.vector_db.qdrant_store: Chunk with id b not found in Qdrant.
2026-02-11 15:53:51,415 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/b "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,415 [DEBUG] tests.test_ingest_route: Checking if old chunk with id b still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,415 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,416 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,416 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,416 [WARNING] storage.vector_db.qdrant_store: Chunk with id 6 not found in Qdrant.
2026-02-11 15:53:51,417 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/6 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,417 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 6 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,417 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,418 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,418 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,419 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,419 [WARNING] storage.vector_db.qdrant_store: Chunk with id 0 not found in Qdrant.
2026-02-11 15:53:51,419 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/0 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,419 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 0 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,419 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,420 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,420 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,420 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,420 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,420 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,420 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,421 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,421 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,421 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,421 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,421 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,421 [WARNING] storage.vector_db.qdrant_store: Chunk with id a not found in Qdrant.
2026-02-11 15:53:51,421 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/a "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,421 [DEBUG] tests.test_ingest_route: Checking if old chunk with id a still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,421 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,422 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,422 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,422 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,422 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,422 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,422 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,423 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,423 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,423 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,423 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,423 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,423 [WARNING] storage.vector_db.qdrant_store: Chunk with id e not found in Qdrant.
2026-02-11 15:53:51,423 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/e "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,423 [DEBUG] tests.test_ingest_route: Checking if old chunk with id e still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,424 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,424 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,425 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,425 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,425 [WARNING] storage.vector_db.qdrant_store: Chunk with id 1 not found in Qdrant.
2026-02-11 15:53:51,426 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/1 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,426 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 1 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,426 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,427 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,427 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,427 [WARNING] storage.vector_db.qdrant_store: Chunk with id b not found in Qdrant.
2026-02-11 15:53:51,428 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/b "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,428 [DEBUG] tests.test_ingest_route: Checking if old chunk with id b still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,428 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,429 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,429 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,429 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,429 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,429 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,429 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,429 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,429 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,429 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,430 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,430 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,430 [WARNING] storage.vector_db.qdrant_store: Chunk with id 8 not found in Qdrant.
2026-02-11 15:53:51,430 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/8 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,430 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 8 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,430 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,431 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,431 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,431 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,431 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,431 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,431 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,431 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,432 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,432 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,432 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,432 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,432 [WARNING] storage.vector_db.qdrant_store: Chunk with id 7 not found in Qdrant.
2026-02-11 15:53:51,432 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/7 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,432 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 7 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,432 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,433 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,433 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,434 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,434 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,434 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,434 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,434 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,434 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,434 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,434 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,434 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,434 [WARNING] storage.vector_db.qdrant_store: Chunk with id a not found in Qdrant.
2026-02-11 15:53:51,435 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/a "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,435 [DEBUG] tests.test_ingest_route: Checking if old chunk with id a still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,435 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,436 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,436 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,436 [WARNING] storage.vector_db.qdrant_store: Chunk with id 2 not found in Qdrant.
2026-02-11 15:53:51,437 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/2 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,437 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 2 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,437 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,438 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,438 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,438 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,438 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,438 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,438 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,438 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,438 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,438 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,439 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,439 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,439 [WARNING] storage.vector_db.qdrant_store: Chunk with id d not found in Qdrant.
2026-02-11 15:53:51,439 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/d "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,439 [DEBUG] tests.test_ingest_route: Checking if old chunk with id d still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,439 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,440 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,440 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,440 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,440 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,440 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,440 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,441 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,441 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,441 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,441 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,441 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,441 [WARNING] storage.vector_db.qdrant_store: Chunk with id 0 not found in Qdrant.
2026-02-11 15:53:51,441 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/0 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,441 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 0 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,441 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,442 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,442 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,442 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,442 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,442 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,442 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,443 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,443 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,443 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,443 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,443 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,443 [WARNING] storage.vector_db.qdrant_store: Chunk with id a not found in Qdrant.
2026-02-11 15:53:51,443 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/a "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,443 [DEBUG] tests.test_ingest_route: Checking if old chunk with id a still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,444 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,444 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,444 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,444 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,445 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,445 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,445 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,445 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,445 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,445 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,445 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,445 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,445 [WARNING] storage.vector_db.qdrant_store: Chunk with id 6 not found in Qdrant.
2026-02-11 15:53:51,446 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/6 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,446 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 6 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,446 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,447 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,447 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,447 [WARNING] storage.vector_db.qdrant_store: Chunk with id 3 not found in Qdrant.
2026-02-11 15:53:51,448 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/3 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,448 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 3 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,448 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,449 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,449 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,450 [WARNING] storage.vector_db.qdrant_store: Chunk with id 8 not found in Qdrant.
2026-02-11 15:53:51,450 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/8 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,450 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 8 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,450 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,451 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,451 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,451 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,451 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,451 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,451 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,451 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,452 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,452 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,452 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,452 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,452 [WARNING] storage.vector_db.qdrant_store: Chunk with id 8 not found in Qdrant.
2026-02-11 15:53:51,452 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/8 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,452 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 8 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,452 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,453 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,453 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,453 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,454 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,454 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,454 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,454 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,454 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,454 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,454 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,454 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,454 [WARNING] storage.vector_db.qdrant_store: Chunk with id 3 not found in Qdrant.
2026-02-11 15:53:51,455 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/3 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,455 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 3 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,455 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,455 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,456 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,456 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,456 [WARNING] storage.vector_db.qdrant_store: Chunk with id 7 not found in Qdrant.
2026-02-11 15:53:51,457 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/7 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,457 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 7 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,457 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,458 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,458 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,459 [WARNING] storage.vector_db.qdrant_store: Chunk with id 5 not found in Qdrant.
2026-02-11 15:53:51,459 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/5 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,459 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 5 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,459 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,461 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,461 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,461 [WARNING] storage.vector_db.qdrant_store: Chunk with id 7 not found in Qdrant.
2026-02-11 15:53:51,462 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/7 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,462 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 7 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,462 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,463 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,463 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,464 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,464 [WARNING] storage.vector_db.qdrant_store: Chunk with id 1 not found in Qdrant.
2026-02-11 15:53:51,464 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/1 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,464 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 1 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,464 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,465 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,465 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,465 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,465 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,465 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,465 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,466 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,466 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,466 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,466 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,466 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,466 [WARNING] storage.vector_db.qdrant_store: Chunk with id 8 not found in Qdrant.
2026-02-11 15:53:51,466 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/8 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,466 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 8 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,467 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,467 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,467 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,468 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,468 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,468 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,468 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:50 GMT')])
2026-02-11 15:53:51,468 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,468 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,468 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,468 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,468 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,468 [WARNING] storage.vector_db.qdrant_store: Chunk with id 3 not found in Qdrant.
2026-02-11 15:53:51,469 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/3 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,469 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 3 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,469 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,469 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,470 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,470 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,470 [WARNING] storage.vector_db.qdrant_store: Chunk with id f not found in Qdrant.
2026-02-11 15:53:51,471 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/f "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,471 [DEBUG] tests.test_ingest_route: Checking if old chunk with id f still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,471 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,472 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,472 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,473 [WARNING] storage.vector_db.qdrant_store: Chunk with id 7 not found in Qdrant.
2026-02-11 15:53:51,473 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/7 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,473 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 7 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,473 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,474 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,474 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,475 [WARNING] storage.vector_db.qdrant_store: Chunk with id e not found in Qdrant.
2026-02-11 15:53:51,475 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/e "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,475 [DEBUG] tests.test_ingest_route: Checking if old chunk with id e still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,475 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,476 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,476 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,476 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,476 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,476 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,476 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,476 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,476 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,477 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,477 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,477 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,477 [WARNING] storage.vector_db.qdrant_store: Chunk with id a not found in Qdrant.
2026-02-11 15:53:51,477 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/a "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,477 [DEBUG] tests.test_ingest_route: Checking if old chunk with id a still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,477 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,478 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,478 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,478 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,478 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,478 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,479 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,479 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,479 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,479 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,479 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,479 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,479 [WARNING] storage.vector_db.qdrant_store: Chunk with id 5 not found in Qdrant.
2026-02-11 15:53:51,479 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/5 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,479 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 5 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,480 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,481 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,481 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,481 [WARNING] storage.vector_db.qdrant_store: Chunk with id d not found in Qdrant.
2026-02-11 15:53:51,482 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/d "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,482 [DEBUG] tests.test_ingest_route: Checking if old chunk with id d still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,482 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,483 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,483 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,484 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,484 [WARNING] storage.vector_db.qdrant_store: Chunk with id 4 not found in Qdrant.
2026-02-11 15:53:51,484 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/4 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,484 [DEBUG] tests.test_ingest_route: Checking if old chunk with id 4 still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,484 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,485 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,485 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,485 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,485 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,485 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,485 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,485 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,485 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,486 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,486 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,486 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,486 [WARNING] storage.vector_db.qdrant_store: Chunk with id " not found in Qdrant.
2026-02-11 15:53:51,486 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/%22 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,486 [DEBUG] tests.test_ingest_route: Checking if old chunk with id " still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
2026-02-11 15:53:51,486 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,487 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,487 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,487 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,487 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,488 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,488 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,488 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points "HTTP/1.1 200 OK"
2026-02-11 15:53:51,488 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,488 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,488 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,488 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,488 [WARNING] storage.vector_db.qdrant_store: Chunk with id ] not found in Qdrant.
2026-02-11 15:53:51,488 [INFO] httpx: HTTP Request: GET http://testserver/chunks/get_chunk_by_id/] "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,488 [DEBUG] tests.test_ingest_route: Checking if old chunk with id ] still exists after re-ingestion with updated extractor version. Response status code: 404, response content: b'{"detail":"Chunk not found"}'
PASSED2026-02-11 15:53:51,489 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,489 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,489 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,489 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,489 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,490 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,490 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,490 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,490 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,490 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,490 [DEBUG] httpcore.http11: response_closed.complete

tests/test_queue_route.py::test_add_and_retreieve_part_to_queue 2026-02-11 15:53:51,502 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,503 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,503 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,530 [INFO] tests.test_queue_route: All routes: ['/openapi.json', '/docs', '/docs/oauth2-redirect', '/redoc', '/ingest/document_part', '/health', '/search', '/documents/add_discovered_document_part', '/documents/open/{document_part_id}', '/documents/batch_get', '/documents/get_all_document_parts', '/documents/{document_part_id}', '/chunks/number_of_chunks', '/chunks/get_chunk_by_id/{chunk_id}', '/runs/create', '/runs/stop_latest/{source_type}', '/runs/is_stop_requested/{run_id}', '/runs/resume_latest/{source_type}', '/runs/list', '/runs/increment_discovered/{run_id}', '/runs/mark_completed/{run_id}', '/runs/mark_failed/{run_id}', '/runs/mark_interrupted/{run_id}', '/runs/start/{run_id}', '/sources/add', '/sources/{source_id}/update', '/sources/get_all_sources', '/queue/add', '/queue/next/{run_id}', '/']
2026-02-11 15:53:51,531 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,532 [DEBUG] api.app.routes.runs: Received json scope: {'type': 'thunderbird', 'mbox_path': '/tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX', 'ignore_patterns': [{'field': 'from', 'value': '*google.com*'}]}
2026-02-11 15:53:51,532 [DEBUG] api.app.routes.runs: Deserialized scope: type='thunderbird' mbox_path='/tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX' ignore_patterns=[{'field': 'from', 'value': '*google.com*'}]
2026-02-11 15:53:51,535 [INFO] httpx: HTTP Request: POST http://testserver/runs/create "HTTP/1.1 200 OK"
2026-02-11 15:53:51,535 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,535 [INFO] httpx: HTTP Request: POST http://testserver/runs/mark_running/4dc5346f-254e-4c5b-bf6c-d0ec18afcf69 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,536 [DEBUG] src.sources.thunderbird.thunderbird_source: Opened mbox file at /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX with 20 messages.
2026-02-11 15:53:51,536 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-0@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:51,536 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-1@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,536 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping multipart part in _extract_part_text
2026-02-11 15:53:51,536 [WARNING] pypdf._reader: incorrect startxref pointer(1)
2026-02-11 15:53:51,536 [WARNING] pypdf._reader: parsing for Object Streams
2026-02-11 15:53:51,537 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping unsupported content type: image/png
2026-02-11 15:53:51,537 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,540 [DEBUG] api.app.routes.queue: Document part aa88997ab7c35a5487f2f5d3507a84f2 added to queue successfully
2026-02-11 15:53:51,540 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,540 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,543 [DEBUG] api.app.routes.queue: Document part b380742fb151529db5c0153658ece4ba added to queue successfully
2026-02-11 15:53:51,543 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,544 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,546 [DEBUG] api.app.routes.queue: Document part 5cf505511c3557bb91c3efc73ac51e1d added to queue successfully
2026-02-11 15:53:51,547 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,547 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,549 [DEBUG] api.app.routes.queue: Document part 89de0231218e584c826bed8ca8817248 added to queue successfully
2026-02-11 15:53:51,549 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,550 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-2@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,550 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,552 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,553 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,553 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-3@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:51,553 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-4@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,553 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,556 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,556 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,556 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-5@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,557 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,559 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,559 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,559 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-6@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:51,559 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-7@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,560 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,562 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,563 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,563 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-8@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,563 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,566 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,566 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,566 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-9@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:51,567 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-10@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,567 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,570 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,571 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,571 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-11@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,572 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,574 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,575 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,575 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-12@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:51,575 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-13@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,575 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,578 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,578 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,578 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-14@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,579 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,581 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,581 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,581 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-15@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:51,581 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-16@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,582 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,584 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,585 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,585 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-17@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,585 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,587 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,588 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
2026-02-11 15:53:51,588 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-18@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:51,588 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-19@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_add_and_retreieve_part_to0/thunderbird/INBOX.
2026-02-11 15:53:51,588 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,591 [DEBUG] api.app.routes.queue: Document part 0e9891e39fa55cd0b6d5974fde7f7316 added to queue successfully
2026-02-11 15:53:51,591 [INFO] httpx: HTTP Request: POST http://testserver/queue/add "HTTP/1.1 200 OK"
PASSED2026-02-11 15:53:51,591 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,592 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,592 [DEBUG] httpcore.http11: response_closed.complete

tests/test_routes_health.py::test_health 2026-02-11 15:53:51,593 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,594 [INFO] httpx: HTTP Request: GET http://testserver/health "HTTP/1.1 200 OK"
PASSED
tests/test_run_cleanup.py::test_run_cleanup 2026-02-11 15:53:51,594 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,594 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,604 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,604 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,604 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,604 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,604 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,607 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,607 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,607 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,608 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,624 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,625 [DEBUG] api.app.routes.runs: Received json scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:51,625 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,625 [DEBUG] api.app.routes.runs: Deserialized scope: type='filesystem' directories=[PosixPath('/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files')] include_patterns=[] exclude_patterns=[]
2026-02-11 15:53:51,632 [INFO] httpx: HTTP Request: POST http://testserver/runs/create "HTTP/1.1 200 OK"
2026-02-11 15:53:51,632 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,633 [INFO] httpx: HTTP Request: POST http://testserver/runs/mark_running/1ddb4110-4da9-4ffa-9a87-f8cfe77a04f7 "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,633 [DEBUG] src.sources.filesystem.filesystem_source: Initialized FilesystemIngestionSource with scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:51,648 [DEBUG] src.sources.filesystem.filesystem_source: Extractor registry contains: ['pdf', 'python', 'thunderbird', 'plaintext']
2026-02-11 15:53:51,648 [DEBUG] src.sources.filesystem.filesystem_source: Walking through directory: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files
2026-02-11 15:53:51,648 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py
2026-02-11 15:53:51,648 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py
2026-02-11 15:53:51,648 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py
2026-02-11 15:53:51,648 [DEBUG] src.sources.base.registry: Using extractor PythonExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py
2026-02-11 15:53:51,650 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py with content type text/x-python
2026-02-11 15:53:51,651 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,652 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,654 [INFO] api.app.routes.ingest: Ingesting document part ID 31ef601289b25f2380e2069850c298f2 for run_id 1ddb4110-4da9-4ffa-9a87-f8cfe77a04f7
2026-02-11 15:53:51,693 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id eb926f40c207b6394ffd3cd8945fb5066ef10a3f8269ba77c4ca0b6001730bf3 to Qdrant collection 'chunks'
2026-02-11 15:53:51,694 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,694 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 404 Not Found"
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,694 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,694 [INFO] storage.vector_db.qdrant_store: Creating Qdrant collection 'chunks' with vector size 768
2026-02-11 15:53:51,695 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,695 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,695 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,695 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,695 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,730 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,730 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,730 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,730 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,730 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,730 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,731 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,731 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,731 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,731 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,731 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,732 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,732 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,732 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,732 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,732 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,732 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,737 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,737 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/document.pdf
2026-02-11 15:53:51,737 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/document.pdf
2026-02-11 15:53:51,737 [DEBUG] src.sources.base.registry: Using extractor PDFExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/document.pdf
2026-02-11 15:53:51,737 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/document.pdf with content type application/pdf
2026-02-11 15:53:51,737 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,738 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,740 [INFO] api.app.routes.ingest: Ingesting document part ID 8d09c08e2b7755349a6bdc9240c90d63 for run_id 1ddb4110-4da9-4ffa-9a87-f8cfe77a04f7
2026-02-11 15:53:51,746 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,746 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath
2026-02-11 15:53:51,746 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,746 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,746 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,746 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,746 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,746 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,746 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt with content type text/plain
2026-02-11 15:53:51,746 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,747 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,749 [INFO] api.app.routes.ingest: Ingesting document part ID 0f7655a5393a58d48a2f485f7bf3334b for run_id 1ddb4110-4da9-4ffa-9a87-f8cfe77a04f7
2026-02-11 15:53:51,789 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 88adb75204a392732050b67060d8b56fc009a2969e6b9fd5038a5774997600fe to Qdrant collection 'chunks'
2026-02-11 15:53:51,789 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,789 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,789 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,789 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,789 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,789 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,789 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,789 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,789 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,790 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,790 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,790 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,790 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,790 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,790 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,790 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,790 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,791 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,791 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,791 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,792 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,792 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,792 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,795 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,796 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,796 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,796 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,796 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,796 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,796 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,796 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt with content type text/plain
2026-02-11 15:53:51,796 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,797 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,799 [INFO] api.app.routes.ingest: Ingesting document part ID 084265d18f115a5f873c1c1071c43449 for run_id 1ddb4110-4da9-4ffa-9a87-f8cfe77a04f7
2026-02-11 15:53:51,835 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 9377bf75b99ebe5e995334742b542a60f90394fda34f0cbcec1741ea733de0e6 to Qdrant collection 'chunks'
2026-02-11 15:53:51,835 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,835 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,835 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,835 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,835 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,835 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,835 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,835 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,835 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,835 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,836 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,836 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,836 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,836 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,836 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,836 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,836 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,837 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,837 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,837 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,838 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,838 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,838 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,842 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,842 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,842 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,842 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,842 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,842 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,842 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,842 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt with content type text/plain
2026-02-11 15:53:51,842 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,843 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,845 [INFO] api.app.routes.ingest: Ingesting document part ID 2caa7af8754f5565b9f536d3f6d8a22a for run_id 1ddb4110-4da9-4ffa-9a87-f8cfe77a04f7
2026-02-11 15:53:51,886 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id 82eb289e7cedc37acecb4bca6c121a16ad815efa8f936e04f9bb554ea31dc4b6 to Qdrant collection 'chunks'
2026-02-11 15:53:51,886 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,886 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,887 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,887 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,888 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,888 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,888 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,888 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,888 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:51,889 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,889 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,889 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:51,890 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,890 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,890 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,894 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,894 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,895 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,895 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,895 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,895 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,895 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,895 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,895 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,895 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,895 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,896 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,896 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,897 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,897 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,897 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,897 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,897 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,898 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,900 [INFO] httpx: HTTP Request: GET http://testserver/documents/get_all_document_parts "HTTP/1.1 200 OK"
2026-02-11 15:53:51,900 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,901 [DEBUG] api.app.routes.runs: Received json scope: {'type': 'filesystem', 'directories': ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files'], 'include_patterns': [], 'exclude_patterns': []}
2026-02-11 15:53:51,901 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,901 [DEBUG] api.app.routes.runs: Deserialized scope: type='filesystem' directories=[PosixPath('/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files')] include_patterns=[] exclude_patterns=[]
2026-02-11 15:53:51,903 [INFO] httpx: HTTP Request: POST http://testserver/runs/create "HTTP/1.1 200 OK"
2026-02-11 15:53:51,903 [DEBUG] src.sources.filesystem.filesystem_source: Walking through directory: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files
2026-02-11 15:53:51,903 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py
2026-02-11 15:53:51,903 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py
2026-02-11 15:53:51,903 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py
2026-02-11 15:53:51,903 [DEBUG] src.sources.base.registry: Using extractor PythonExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py
2026-02-11 15:53:51,903 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/script.py with content type text/x-python
2026-02-11 15:53:51,904 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/document.pdf
2026-02-11 15:53:51,904 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/document.pdf
2026-02-11 15:53:51,904 [DEBUG] src.sources.base.registry: Using extractor PDFExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/document.pdf
2026-02-11 15:53:51,904 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/document.pdf with content type application/pdf
2026-02-11 15:53:51,904 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,905 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,906 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,907 [DEBUG] api.app.routes.ingest: Document part with ID 8d09c08e2b7755349a6bdc9240c90d63 exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,907 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 8d09c08e2b7755349a6bdc9240c90d63 (already processed).
2026-02-11 15:53:51,911 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,911 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath
2026-02-11 15:53:51,911 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,911 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,911 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,912 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,912 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,912 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt
2026-02-11 15:53:51,912 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/file1.txt with content type text/plain
2026-02-11 15:53:51,912 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,913 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,913 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,915 [DEBUG] api.app.routes.ingest: Document part with ID 0f7655a5393a58d48a2f485f7bf3334b exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,915 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 0f7655a5393a58d48a2f485f7bf3334b (already processed).
2026-02-11 15:53:51,919 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,919 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,920 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,920 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,920 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,920 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,920 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt
2026-02-11 15:53:51,920 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file3.txt with content type text/plain
2026-02-11 15:53:51,921 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,922 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,922 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,924 [DEBUG] api.app.routes.ingest: Document part with ID 084265d18f115a5f873c1c1071c43449 exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,925 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 084265d18f115a5f873c1c1071c43449 (already processed).
2026-02-11 15:53:51,929 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,929 [DEBUG] src.sources.filesystem.filesystem_source: Processing path: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,929 [DEBUG] src.sources.filesystem.filesystem_source: Found file: /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,929 [DEBUG] src.sources.base.registry: Extractor PDFExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,929 [DEBUG] src.sources.base.registry: Extractor PythonExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,929 [DEBUG] src.sources.base.registry: Extractor ThunderbirdExtractor cannot handle path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,929 [DEBUG] src.sources.base.registry: Using extractor PlainTextExtractor for path /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt
2026-02-11 15:53:51,929 [DEBUG] src.sources.filesystem.filesystem_source: Extracted content from /tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files/IgnorePath/file2.txt with content type text/plain
2026-02-11 15:53:51,929 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,930 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,930 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,932 [DEBUG] api.app.routes.ingest: Document part with ID 2caa7af8754f5565b9f536d3f6d8a22a exists. Comparing extractor_names and versions.
2026-02-11 15:53:51,932 [INFO] api.app.routes.ingest: Skipping ingestion for document part ID 2caa7af8754f5565b9f536d3f6d8a22a (already processed).
2026-02-11 15:53:51,936 [INFO] httpx: HTTP Request: POST http://testserver/ingest/document_part "HTTP/1.1 200 OK"
2026-02-11 15:53:51,939 [DEBUG] src.sources.filesystem.filesystem_model: Deserializing directories: ['/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files']
2026-02-11 15:53:51,939 [DEBUG] storage.metadata_db.document_parts: Finding stale parts for run_id 3bbf9a28-f5e6-4445-988b-01acd471c236 with scope_json "{\"type\": \"filesystem\", \"directories\": [\"/tmp/pytest-of-root/pytest-0/test_run_cleanup0/test_files\"], \"include_patterns\": [], \"exclude_patterns\": []}"
2026-02-11 15:53:51,940 [DEBUG] storage.metadata_db.document_parts: Document parts with last_indexed_run_id 3bbf9a28-f5e6-4445-988b-01acd471c236: [{"document_part_id": "8d09c08e2b7755349a6bdc9240c90d63", "last_indexed_run_id": "3bbf9a28-f5e6-4445-988b-01acd471c236", "chunk_ids": null}, {"document_part_id": "0f7655a5393a58d48a2f485f7bf3334b", "last_indexed_run_id": "3bbf9a28-f5e6-4445-988b-01acd471c236", "chunk_ids": "[\"88adb75204a392732050b67060d8b56fc009a2969e6b9fd5038a5774997600fe\"]"}, {"document_part_id": "084265d18f115a5f873c1c1071c43449", "last_indexed_run_id": "3bbf9a28-f5e6-4445-988b-01acd471c236", "chunk_ids": "[\"9377bf75b99ebe5e995334742b542a60f90394fda34f0cbcec1741ea733de0e6\"]"}, {"document_part_id": "2caa7af8754f5565b9f536d3f6d8a22a", "last_indexed_run_id": "3bbf9a28-f5e6-4445-988b-01acd471c236", "chunk_ids": "[\"82eb289e7cedc37acecb4bca6c121a16ad815efa8f936e04f9bb554ea31dc4b6\"]"}]
2026-02-11 15:53:51,941 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,942 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,942 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,942 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,942 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:51,942 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,942 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/delete?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:51,942 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:51,942 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,942 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,943 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,943 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,944 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:51,944 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,945 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,945 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,946 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,946 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,947 [INFO] httpx: HTTP Request: GET http://testserver/chunks/number_of_chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,947 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:51,949 [INFO] httpx: HTTP Request: GET http://testserver/documents/get_all_document_parts "HTTP/1.1 200 OK"
PASSED2026-02-11 15:53:51,950 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,950 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,950 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,950 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,950 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,958 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,958 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,958 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,958 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,958 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,958 [DEBUG] httpcore.http11: response_closed.complete

tests/test_search_qdrant.py::test_search_qdrant_returns_results 2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:51 GMT')])
2026-02-11 15:53:51,959 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:51,959 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:51,968 [INFO] src.core.wiring: Using Nomic embedding model: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:51,969 [INFO] sentence_transformers.SentenceTransformer: Use pytorch device_name: cpu
2026-02-11 15:53:51,969 [INFO] sentence_transformers.SentenceTransformer: Load pretrained SentenceTransformer: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:51,970 [DEBUG] huggingface_hub.utils._http: Request cfaff67c-f120-4e45-8455-0a0d08cc642e: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json (authenticated: False)
2026-02-11 15:53:52,092 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json HTTP/1.1" 404 0
2026-02-11 15:53:52,093 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:52,093 [DEBUG] huggingface_hub.utils._http: Request a9a85c79-7c03-4c57-8c8a-42a94578da56: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:52,212 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:52,213 [DEBUG] huggingface_hub.utils._http: Request edea7155-dcc4-4e92-93cc-7a2f7b589759: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:52,224 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:52,224 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- configuration_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:52,225 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:52,225 [INFO] transformers.configuration_utils: Model config NomicBertConfig {
  "_name_or_path": "nomic-ai/nomic-embed-text-v1",
  "activation_function": "swiglu",
  "architectures": [
    "NomicBertModel"
  ],
  "attn_pdrop": 0.0,
  "auto_map": {
    "AutoConfig": "nomic-ai/nomic-bert-2048--configuration_hf_nomic_bert.NomicBertConfig",
    "AutoModel": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertModel",
    "AutoModelForMaskedLM": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertForPreTraining"
  },
  "bos_token_id": null,
  "causal": false,
  "dense_seq_output": true,
  "embd_pdrop": 0.0,
  "eos_token_id": null,
  "fused_bias_fc": true,
  "fused_dropout_add_ln": true,
  "initializer_range": 0.02,
  "layer_norm_epsilon": 1e-12,
  "max_trained_positions": 2048,
  "mlp_fc1_bias": false,
  "mlp_fc2_bias": false,
  "model_type": "nomic_bert",
  "n_embd": 768,
  "n_head": 12,
  "n_inner": 3072,
  "n_layer": 12,
  "n_positions": 8192,
  "pad_vocab_size_multiple": 64,
  "parallel_block": false,
  "parallel_block_tied_norm": false,
  "prenorm": false,
  "qkv_proj_bias": false,
  "reorder_and_upcast_attn": false,
  "resid_pdrop": 0.0,
  "rotary_emb_base": 1000,
  "rotary_emb_fraction": 1.0,
  "rotary_emb_interleaved": false,
  "rotary_emb_scale_base": null,
  "rotary_scaling_factor": 2,
  "scale_attn_by_inverse_layer_idx": false,
  "scale_attn_weights": true,
  "summary_activation": null,
  "summary_first_dropout": 0.1,
  "summary_proj_to_labels": true,
  "summary_type": "cls_index",
  "summary_use_proj": true,
  "torch_dtype": "float32",
  "transformers_version": "4.44.2",
  "type_vocab_size": 2,
  "use_cache": true,
  "use_flash_attn": true,
  "use_rms_norm": false,
  "use_xentropy": true,
  "vocab_size": 30528
}

2026-02-11 15:53:52,226 [DEBUG] huggingface_hub.utils._http: Request 7c6cd881-4bd2-474a-8657-1d2667e69890: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:52,345 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:52,346 [DEBUG] huggingface_hub.utils._http: Request adf20071-19ce-421d-9a4a-4fe1c48c9cc6: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:52,358 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:52,361 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- modeling_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:53,014 [DEBUG] huggingface_hub.utils._http: Request 9033911e-736b-4de7-b37f-477292e46dff: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin (authenticated: False)
2026-02-11 15:53:53,133 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin HTTP/1.1" 302 0
2026-02-11 15:53:53,264 [WARNING] transformers_modules.nomic-ai.nomic-bert-2048.7710840340a098cfb869c4f65e87cf2b1b70caca.modeling_hf_nomic_bert: <All keys matched successfully>
2026-02-11 15:53:53,268 [INFO] transformers.tokenization_utils_base: loading file vocab.txt from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/vocab.txt
2026-02-11 15:53:53,268 [INFO] transformers.tokenization_utils_base: loading file tokenizer.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer.json
2026-02-11 15:53:53,268 [INFO] transformers.tokenization_utils_base: loading file added_tokens.json from cache at None
2026-02-11 15:53:53,268 [INFO] transformers.tokenization_utils_base: loading file special_tokens_map.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/special_tokens_map.json
2026-02-11 15:53:53,268 [INFO] transformers.tokenization_utils_base: loading file tokenizer_config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer_config.json
2026-02-11 15:53:53,275 [DEBUG] huggingface_hub.utils._http: Request 29aad8c3-8cf3-4ac3-a562-a1e3e633a62f: GET https://huggingface.co/api/models/nomic-ai/nomic-embed-text-v1 (authenticated: False)
2026-02-11 15:53:53,402 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "GET /api/models/nomic-ai/nomic-embed-text-v1 HTTP/1.1" 200 148911
2026-02-11 15:53:53,434 [DEBUG] storage.vector_db.qdrant_store: Adding chunk with id c1 to Qdrant collection 'chunks'
2026-02-11 15:53:53,434 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:53,434 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:53,434 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:53,434 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:53,434 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:53,434 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:53,434 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:52 GMT')])
2026-02-11 15:53:53,435 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 404 Not Found"
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:53,435 [INFO] storage.vector_db.qdrant_store: Creating Qdrant collection 'chunks' with vector size 768
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:53,435 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:53,493 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:53 GMT')])
2026-02-11 15:53:53,494 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:53,494 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:53,494 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:53,494 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:53,494 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:53,494 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:53,494 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:53,494 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:53,495 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:53,495 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:53 GMT')])
2026-02-11 15:53:53,496 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks/points?wait=true "HTTP/1.1 200 OK"
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:53,496 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:53,496 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:53 GMT')])
2026-02-11 15:53:53,497 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:53,497 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:53 GMT')])
2026-02-11 15:53:53,498 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/query "HTTP/1.1 200 OK"
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: response_closed.complete
PASSED2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:53,498 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'DELETE']>
2026-02-11 15:53:53,499 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:53 GMT')])
2026-02-11 15:53:53,499 [INFO] httpx: HTTP Request: DELETE http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:53,499 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'DELETE']>
2026-02-11 15:53:53,499 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:53,499 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:53,499 [DEBUG] httpcore.http11: response_closed.complete

tests/test_search_route.py::test_search_route 2026-02-11 15:53:53,500 [DEBUG] asyncio: Using selector: EpollSelector
2026-02-11 15:53:53,501 [INFO] src.core.wiring: Using Nomic embedding model: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:53,502 [INFO] sentence_transformers.SentenceTransformer: Use pytorch device_name: cpu
2026-02-11 15:53:53,502 [INFO] sentence_transformers.SentenceTransformer: Load pretrained SentenceTransformer: nomic-ai/nomic-embed-text-v1
2026-02-11 15:53:53,504 [DEBUG] huggingface_hub.utils._http: Request 202eb037-dda3-43d2-9559-61cc82707581: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json (authenticated: False)
2026-02-11 15:53:53,504 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2026-02-11 15:53:53,672 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/adapter_config.json HTTP/1.1" 404 0
2026-02-11 15:53:53,673 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:53,673 [DEBUG] huggingface_hub.utils._http: Request e326083b-9578-4fe1-b9fd-569fd6308bb8: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:53,794 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/configuration_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:53,795 [DEBUG] huggingface_hub.utils._http: Request 1b9f78e3-0ca8-4e54-b017-9853cf35f8dc: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:53,809 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/configuration_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:53,809 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- configuration_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:53,809 [INFO] transformers.configuration_utils: loading configuration file config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/config.json
2026-02-11 15:53:53,810 [INFO] transformers.configuration_utils: Model config NomicBertConfig {
  "_name_or_path": "nomic-ai/nomic-embed-text-v1",
  "activation_function": "swiglu",
  "architectures": [
    "NomicBertModel"
  ],
  "attn_pdrop": 0.0,
  "auto_map": {
    "AutoConfig": "nomic-ai/nomic-bert-2048--configuration_hf_nomic_bert.NomicBertConfig",
    "AutoModel": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertModel",
    "AutoModelForMaskedLM": "nomic-ai/nomic-bert-2048--modeling_hf_nomic_bert.NomicBertForPreTraining"
  },
  "bos_token_id": null,
  "causal": false,
  "dense_seq_output": true,
  "embd_pdrop": 0.0,
  "eos_token_id": null,
  "fused_bias_fc": true,
  "fused_dropout_add_ln": true,
  "initializer_range": 0.02,
  "layer_norm_epsilon": 1e-12,
  "max_trained_positions": 2048,
  "mlp_fc1_bias": false,
  "mlp_fc2_bias": false,
  "model_type": "nomic_bert",
  "n_embd": 768,
  "n_head": 12,
  "n_inner": 3072,
  "n_layer": 12,
  "n_positions": 8192,
  "pad_vocab_size_multiple": 64,
  "parallel_block": false,
  "parallel_block_tied_norm": false,
  "prenorm": false,
  "qkv_proj_bias": false,
  "reorder_and_upcast_attn": false,
  "resid_pdrop": 0.0,
  "rotary_emb_base": 1000,
  "rotary_emb_fraction": 1.0,
  "rotary_emb_interleaved": false,
  "rotary_emb_scale_base": null,
  "rotary_scaling_factor": 2,
  "scale_attn_by_inverse_layer_idx": false,
  "scale_attn_weights": true,
  "summary_activation": null,
  "summary_first_dropout": 0.1,
  "summary_proj_to_labels": true,
  "summary_type": "cls_index",
  "summary_use_proj": true,
  "torch_dtype": "float32",
  "transformers_version": "4.44.2",
  "type_vocab_size": 2,
  "use_cache": true,
  "use_flash_attn": true,
  "use_rms_norm": false,
  "use_xentropy": true,
  "vocab_size": 30528
}

2026-02-11 15:53:53,810 [DEBUG] huggingface_hub.utils._http: Request e490ce07-bc69-4c1a-8927-a75ac3bc8440: HEAD https://huggingface.co/nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:53,931 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-bert-2048/resolve/main/modeling_hf_nomic_bert.py HTTP/1.1" 307 0
2026-02-11 15:53:53,932 [DEBUG] huggingface_hub.utils._http: Request e67f949c-c7ef-463e-addb-997e9f127fcb: HEAD https://huggingface.co/api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py (authenticated: False)
2026-02-11 15:53:53,943 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/resolve-cache/models/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py HTTP/1.1" 200 0
2026-02-11 15:53:53,946 [WARNING] transformers.dynamic_module_utils: A new version of the following files was downloaded from https://huggingface.co/nomic-ai/nomic-bert-2048:
- modeling_hf_nomic_bert.py
. Make sure to double-check they do not contain any added malicious code. To avoid downloading new versions of the code file, you can pin a revision.
2026-02-11 15:53:54,646 [DEBUG] huggingface_hub.utils._http: Request 5b51c75f-171e-43c0-bbfc-ef3bbb9afb89: HEAD https://huggingface.co/nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin (authenticated: False)
2026-02-11 15:53:54,768 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /nomic-ai/nomic-embed-text-v1/resolve/main/pytorch_model.bin HTTP/1.1" 302 0
2026-02-11 15:53:54,897 [WARNING] transformers_modules.nomic-ai.nomic-bert-2048.7710840340a098cfb869c4f65e87cf2b1b70caca.modeling_hf_nomic_bert: <All keys matched successfully>
2026-02-11 15:53:54,898 [INFO] transformers.tokenization_utils_base: loading file vocab.txt from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/vocab.txt
2026-02-11 15:53:54,898 [INFO] transformers.tokenization_utils_base: loading file tokenizer.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer.json
2026-02-11 15:53:54,898 [INFO] transformers.tokenization_utils_base: loading file added_tokens.json from cache at None
2026-02-11 15:53:54,898 [INFO] transformers.tokenization_utils_base: loading file special_tokens_map.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/special_tokens_map.json
2026-02-11 15:53:54,898 [INFO] transformers.tokenization_utils_base: loading file tokenizer_config.json from cache at /root/.cache/huggingface/models--nomic-ai--nomic-embed-text-v1/snapshots/9cff80ccfaa78556e1f8883129e2fe70c9fd5e49/tokenizer_config.json
2026-02-11 15:53:54,903 [DEBUG] huggingface_hub.utils._http: Request f755ca2b-7fee-441b-b3f4-f3f3a8a76a4d: GET https://huggingface.co/api/models/nomic-ai/nomic-embed-text-v1 (authenticated: False)
2026-02-11 15:53:55,032 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "GET /api/models/nomic-ai/nomic-embed-text-v1 HTTP/1.1" 200 148911
2026-02-11 15:53:55,070 [DEBUG] storage.vector_db.qdrant_store: Checking for Qdrant collection 'chunks'
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'GET']>
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'GET']>
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'GET']>
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 404, b'Not Found', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:54 GMT')])
2026-02-11 15:53:55,071 [INFO] httpx: HTTP Request: GET http://qdrant_test:6333/collections/chunks "HTTP/1.1 404 Not Found"
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'GET']>
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:55,071 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:55,071 [INFO] storage.vector_db.qdrant_store: Creating Qdrant collection 'chunks' with vector size 768
2026-02-11 15:53:55,072 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:55,072 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:55,072 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'PUT']>
2026-02-11 15:53:55,072 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:55,072 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'PUT']>
2026-02-11 15:53:55,130 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:54 GMT')])
2026-02-11 15:53:55,130 [INFO] httpx: HTTP Request: PUT http://qdrant_test:6333/collections/chunks "HTTP/1.1 200 OK"
2026-02-11 15:53:55,130 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'PUT']>
2026-02-11 15:53:55,130 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:55,130 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:55,130 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: send_request_headers.started request=<Request [b'POST']>
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: send_request_headers.complete
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: send_request_body.started request=<Request [b'POST']>
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: send_request_body.complete
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: receive_response_headers.started request=<Request [b'POST']>
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Wed, 11 Feb 2026 15:53:54 GMT')])
2026-02-11 15:53:55,131 [INFO] httpx: HTTP Request: POST http://qdrant_test:6333/collections/chunks/points/query "HTTP/1.1 200 OK"
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: receive_response_body.started request=<Request [b'POST']>
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: receive_response_body.complete
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: response_closed.started
2026-02-11 15:53:55,131 [DEBUG] httpcore.http11: response_closed.complete
2026-02-11 15:53:55,132 [INFO] httpx: HTTP Request: POST http://testserver/search "HTTP/1.1 200 OK"
PASSED
tests/test_thunderbird_ingestion.py::test_thunderbird_source_iterates_documents 2026-02-11 15:53:55,153 [DEBUG] src.sources.thunderbird.thunderbird_source: Opened mbox file at /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX with 20 messages.
2026-02-11 15:53:55,153 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-0@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,153 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-1@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,153 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping multipart part in _extract_part_text
2026-02-11 15:53:55,154 [WARNING] pypdf._reader: incorrect startxref pointer(1)
2026-02-11 15:53:55,154 [WARNING] pypdf._reader: parsing for Object Streams
2026-02-11 15:53:55,154 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping unsupported content type: image/png
2026-02-11 15:53:55,154 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-2@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,154 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-3@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,154 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-4@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,154 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-5@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,155 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-6@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,155 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-7@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,155 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-8@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,155 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-9@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,155 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-10@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,155 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-11@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,155 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-12@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,155 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-13@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,156 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-14@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,156 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-15@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,156 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-16@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,156 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-17@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,156 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-18@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
2026-02-11 15:53:55,156 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-19@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_source_iterat0/thunderbird/INBOX.
PASSED
tests/test_thunderbird_ingestion.py::test_thunderbird_ignore_pattern 2026-02-11 15:53:55,168 [DEBUG] src.sources.thunderbird.thunderbird_source: Opened mbox file at /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX with 20 messages.
2026-02-11 15:53:55,168 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-0@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,168 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-1@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,168 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping multipart part in _extract_part_text
2026-02-11 15:53:55,168 [WARNING] pypdf._reader: incorrect startxref pointer(1)
2026-02-11 15:53:55,168 [WARNING] pypdf._reader: parsing for Object Streams
2026-02-11 15:53:55,168 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping unsupported content type: image/png
2026-02-11 15:53:55,169 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-2@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,169 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-3@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,169 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-4@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,169 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-5@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,169 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-6@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,169 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-7@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,169 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-8@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,170 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-9@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,170 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-10@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,170 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-11@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,170 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-12@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,170 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-13@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,170 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-14@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,170 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-15@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,171 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-16@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,171 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-17@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,171 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-18@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,171 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-19@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,171 [DEBUG] src.sources.thunderbird.thunderbird_source: Opened mbox file at /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX with 20 messages.
2026-02-11 15:53:55,171 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-0@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:55,171 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-1@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,171 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping multipart part in _extract_part_text
2026-02-11 15:53:55,172 [WARNING] pypdf._reader: incorrect startxref pointer(1)
2026-02-11 15:53:55,172 [WARNING] pypdf._reader: parsing for Object Streams
2026-02-11 15:53:55,172 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping unsupported content type: image/png
2026-02-11 15:53:55,172 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-2@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,172 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-3@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:55,172 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-4@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,172 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-5@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,172 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-6@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:55,172 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-7@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-8@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-9@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-10@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-11@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-12@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-13@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-14@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-15@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:55,173 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-16@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,174 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-17@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
2026-02-11 15:53:55,174 [DEBUG] src.sources.thunderbird.thunderbird_source: Excluding email with Message-ID <test-18@example.com> due to ignore pattern on field 'from' with value '*google.com*'.
2026-02-11 15:53:55,174 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-19@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_ignore_patter0/thunderbird/INBOX.
PASSED
tests/test_thunderbird_ingestion.py::test_thunderbird_resume_pipeline 2026-02-11 15:53:55,186 [DEBUG] src.sources.thunderbird.thunderbird_source: Opened mbox file at /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX with 20 messages.
2026-02-11 15:53:55,186 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-0@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,186 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-1@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,186 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping multipart part in _extract_part_text
2026-02-11 15:53:55,186 [WARNING] pypdf._reader: incorrect startxref pointer(1)
2026-02-11 15:53:55,186 [WARNING] pypdf._reader: parsing for Object Streams
2026-02-11 15:53:55,187 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping unsupported content type: image/png
2026-02-11 15:53:55,187 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-2@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,187 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-3@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,187 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-4@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,187 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-5@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,187 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-6@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,188 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-7@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,188 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-8@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,188 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-9@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,188 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-10@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,188 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-11@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,188 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-12@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,188 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-13@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,188 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-14@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,189 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-15@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,189 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-16@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,189 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-17@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,189 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-18@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,189 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-19@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,191 [DEBUG] storage.metadata_db.indexing_runs: Loading latest interrupted run for source type: thunderbird
2026-02-11 15:53:55,191 [DEBUG] src.sources.thunderbird.thunderbird_source: Opened mbox file at /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX with 20 messages.
2026-02-11 15:53:55,191 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-0@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,191 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-1@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,191 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping multipart part in _extract_part_text
2026-02-11 15:53:55,192 [WARNING] pypdf._reader: incorrect startxref pointer(1)
2026-02-11 15:53:55,192 [WARNING] pypdf._reader: parsing for Object Streams
2026-02-11 15:53:55,192 [DEBUG] src.sources.thunderbird.thunderbird_extractor: Skipping unsupported content type: image/png
2026-02-11 15:53:55,192 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-2@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,192 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-3@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,192 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-4@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,192 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-5@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,192 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-6@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,193 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-7@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,193 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-8@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,193 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-9@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,193 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-10@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,193 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-11@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,193 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-12@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,193 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-13@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,194 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-14@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,194 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-15@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,194 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-16@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,194 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-17@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,194 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-18@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
2026-02-11 15:53:55,194 [DEBUG] src.sources.thunderbird.thunderbird_source: Processing email with Message-ID <test-19@example.com> from mbox /tmp/pytest-of-root/pytest-0/test_thunderbird_resume_pipeli0/thunderbird/INBOX.
PASSED

=============================== warnings summary ===============================
../usr/local/lib/python3.11/site-packages/transformers/utils/hub.py:127
  /usr/local/lib/python3.11/site-packages/transformers/utils/hub.py:127: FutureWarning: Using `TRANSFORMERS_CACHE` is deprecated and will be removed in v5 of Transformers. Use `HF_HOME` instead.
    warnings.warn(

<frozen importlib._bootstrap>:241
  <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyPacked has no __module__ attribute

<frozen importlib._bootstrap>:241
  <frozen importlib._bootstrap>:241: DeprecationWarning: builtin type SwigPyObject has no __module__ attribute

../root/.cache/huggingface/modules/transformers_modules/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py:119
../root/.cache/huggingface/modules/transformers_modules/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py:119
tests/test_ingest_route.py::test_ingest_and_seach_route_thunderbird
tests/test_ingest_route.py::test_ingest_and_search_route_filesystem
tests/test_search_qdrant.py::test_search_qdrant_returns_results
tests/test_search_route.py::test_search_route
  /root/.cache/huggingface/modules/transformers_modules/nomic-ai/nomic-bert-2048/7710840340a098cfb869c4f65e87cf2b1b70caca/modeling_hf_nomic_bert.py:119: FutureWarning: You are using `torch.load` with `weights_only=False` (the current default value), which uses the default pickle module implicitly. It is possible to construct malicious pickle data which will execute arbitrary code during unpickling (See https://github.com/pytorch/pytorch/blob/main/SECURITY.md#untrusted-models for more details). In a future release, the default value for `weights_only` will be flipped to `True`. This limits the functions that could be executed during unpickling. Arbitrary objects will no longer be allowed to be loaded via this mode unless they are explicitly allowlisted by the user via `torch.serialization.add_safe_globals`. We recommend you start setting `weights_only=True` for any use case where you don't have full control of the loaded file. Please open an issue on GitHub for any issues related to this experimental feature.
    state_dict = loader(resolved_archive_file)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================== 25 passed, 1 skipped, 9 warnings in 14.78s ==================
2026-02-11 15:53:55,701 [INFO] torch._dynamo.utils: TorchDynamo compilation metrics:
Function, Runtimes (s)
2026-02-11 15:53:55,705 [INFO] torch._subclasses.fake_tensor: FakeTensor cache stats:
2026-02-11 15:53:55,705 [INFO] torch._subclasses.fake_tensor:   cache_hits: 0
2026-02-11 15:53:55,705 [INFO] torch._subclasses.fake_tensor:   cache_misses: 0
